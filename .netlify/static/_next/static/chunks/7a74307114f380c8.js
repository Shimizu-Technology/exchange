(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,90597,e=>{"use strict";let a=(0,e.i(75254).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);e.s(["Heart",()=>a],90597)},46897,e=>{"use strict";let a=(0,e.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>a],46897)},3116,39312,e=>{"use strict";var a=e.i(75254);let t=(0,a.default)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]]);e.s(["Clock",()=>t],3116);let s=(0,a.default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>s],39312)},21141,e=>{"use strict";var a=e.i(43476),t=e.i(22016),s=e.i(46932),l=e.i(46897),i=e.i(3116),r=e.i(39312),n=e.i(90597),o=e.i(75157);let c=["from-hot-pink/20 to-electric-yellow/20","from-teal/20 to-electric-yellow/20","from-hot-pink/20 to-teal/20","from-electric-yellow/20 to-hot-pink/20","from-teal/20 to-hot-pink/20"];function d({listing:e,index:d=0}){let m=e.featured&&e.featuredUntil&&e.featuredUntil>Date.now(),x=0===e.price,h="sold"===e.status,u=c[d%c.length];return(0,a.jsx)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.06*d,ease:[.22,1,.36,1]},children:(0,a.jsxs)(t.default,{href:`/listing/${e._id}`,className:"group block bg-white rounded-2xl overflow-hidden border border-near-black/5 hover:border-hot-pink/20 hover:shadow-xl hover:shadow-hot-pink/5 hover:-translate-y-1 transition-all duration-300",children:[(0,a.jsxs)("div",{className:"relative aspect-[4/3] overflow-hidden",children:[e.photos.length>0?(0,a.jsx)("img",{src:e.photos[0],alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):(0,a.jsx)("div",{className:`w-full h-full bg-gradient-to-br ${u} flex items-center justify-center`,children:(0,a.jsx)(n.Heart,{className:"w-12 h-12 text-hot-pink/30"})}),h&&(0,a.jsx)("div",{className:"absolute inset-0 bg-deep-charcoal/60 flex items-center justify-center",children:(0,a.jsx)("span",{className:"font-display text-2xl font-bold text-white -rotate-12",children:"Gone. Just like they are."})}),m&&!h&&(0,a.jsxs)("div",{className:"absolute top-3 left-3 px-2.5 py-1 bg-electric-yellow text-near-black text-xs font-bold rounded-full flex items-center gap-1 shadow-md",children:[(0,a.jsx)(r.Zap,{className:"w-3 h-3"}),"Boosted"]}),x&&!h&&(0,a.jsx)("div",{className:"absolute top-3 right-3 px-2.5 py-1 bg-teal text-white text-xs font-bold rounded-full shadow-md",children:"Free"})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1.5",children:[(0,a.jsx)("h3",{className:"font-display font-bold text-base leading-tight line-clamp-1 group-hover:text-hot-pink transition-colors duration-200",children:e.title}),(0,a.jsx)("span",{className:"font-display font-bold text-hot-pink text-base whitespace-nowrap",children:(0,o.formatPrice)(e.price)})]}),e.story&&(0,a.jsxs)("p",{className:"text-warm-gray text-sm leading-relaxed line-clamp-2 mb-3",children:["“",e.story,"”"]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-warm-gray text-xs",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(l.MapPin,{className:"w-3 h-3"}),e.area]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(i.Clock,{className:"w-3 h-3"}),(0,o.formatTimeAgo)(e.createdAt)]})]})]})]})})}function m(){return(0,a.jsxs)("div",{className:"bg-white rounded-2xl overflow-hidden border border-near-black/5",children:[(0,a.jsx)("div",{className:"aspect-[4/3] bg-near-black/5 animate-pulse"}),(0,a.jsxs)("div",{className:"p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{className:"h-5 w-2/3 bg-near-black/5 rounded-lg animate-pulse"}),(0,a.jsx)("div",{className:"h-5 w-16 bg-near-black/5 rounded-lg animate-pulse"})]}),(0,a.jsx)("div",{className:"h-4 w-full bg-near-black/5 rounded-lg animate-pulse"}),(0,a.jsx)("div",{className:"h-4 w-3/4 bg-near-black/5 rounded-lg animate-pulse"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"h-3 w-20 bg-near-black/5 rounded-lg animate-pulse"}),(0,a.jsx)("div",{className:"h-3 w-16 bg-near-black/5 rounded-lg animate-pulse"})]})]})]})}e.s(["ListingCard",()=>d,"ListingCardSkeleton",()=>m])},88844,e=>{"use strict";let a=(0,e.i(75254).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>a],88844)},88699,e=>{"use strict";let a=(0,e.i(75254).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>a],88699)},30257,e=>{"use strict";var a=e.i(43476);e.i(50711);var t=e.i(82045),s=e.i(83394),l=e.i(23832),i=e.i(21141),r=e.i(46932),n=e.i(71645),o=e.i(84614),c=e.i(46897),d=e.i(75254);let m=(0,d.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var x=e.i(88844),h=e.i(94983);let u=(0,d.default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]),p=(0,d.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var g=e.i(88699),b=e.i(83086),f=e.i(22016);function y(){let e=(0,t.useQuery)(s.api.users.getMe),{signIn:i,signOut:r}=(0,l.useAuthActions)();return void 0===e?(0,a.jsx)("div",{className:"max-w-3xl mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsx)("div",{className:"h-24 bg-near-black/5 rounded-2xl"}),(0,a.jsx)("div",{className:"h-64 bg-near-black/5 rounded-2xl"})]})}):e?(0,a.jsx)(v,{user:e,signOut:r}):(0,a.jsx)(j,{signIn:i})}function j({signIn:e}){let[t,s]=(0,n.useState)(!1),l=async()=>{s(!0);try{await e("anonymous")}catch{s(!1)}};return(0,a.jsx)("div",{className:"max-w-md mx-auto px-4 py-20 text-center",children:(0,a.jsxs)(r.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-full bg-hot-pink/10 flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(b.Sparkles,{className:"w-10 h-10 text-hot-pink"})}),(0,a.jsx)("h1",{className:"font-display text-3xl font-bold mb-2",children:"Join ExChange"}),(0,a.jsx)("p",{className:"text-warm-gray mb-8",children:"Turn your ex's stuff into someone else's treasure."}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("button",{onClick:l,disabled:t,className:"w-full px-6 py-3.5 bg-hot-pink text-white rounded-2xl font-display font-bold shadow-lg shadow-hot-pink/25 hover:bg-hot-pink-dark hover:-translate-y-0.5 active:translate-y-0 transition-all duration-200 disabled:opacity-50",children:t?"Signing in...":"Continue as Guest"}),(0,a.jsx)("p",{className:"text-xs text-warm-gray",children:"Google sign-in coming soon. For now, try it as a guest!"})]})]})})}function v({user:e,signOut:l}){let[d,y]=(0,n.useState)("active"),j=(0,t.useQuery)(s.api.listings.getBySeller,{sellerId:e._id,status:"active"}),v=(0,t.useQuery)(s.api.listings.getBySeller,{sellerId:e._id,status:"sold"}),k=(0,t.useMutation)(s.api.users.update),[w,N]=(0,n.useState)(!1),[C,M]=(0,n.useState)(e.name),[S,A]=(0,n.useState)(e.bio??""),[P,T]=(0,n.useState)(e.area??""),z=async()=>{await k({name:C.trim()||e.name,bio:S.trim()||void 0,area:P||void 0}),N(!1)},B="active"===d?j:v;return(0,a.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-6 md:py-10",children:[(0,a.jsxs)(r.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-2xl border border-near-black/5 p-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-hot-pink/10 flex items-center justify-center",children:e.avatarUrl?(0,a.jsx)("img",{src:e.avatarUrl,alt:"",className:"w-16 h-16 rounded-full"}):(0,a.jsx)(o.User,{className:"w-8 h-8 text-hot-pink"})}),w?(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)("input",{value:C,onChange:e=>M(e.target.value),className:"w-full px-3 py-2 bg-warm-white rounded-xl border border-near-black/10 text-sm focus:outline-none focus:border-hot-pink/40",placeholder:"Your name"}),(0,a.jsx)("input",{value:S,onChange:e=>A(e.target.value),className:"w-full px-3 py-2 bg-warm-white rounded-xl border border-near-black/10 text-sm focus:outline-none focus:border-hot-pink/40",placeholder:"Bio (optional, be sassy)"}),(0,a.jsxs)("select",{value:P,onChange:e=>T(e.target.value),className:"w-full px-3 py-2 bg-warm-white rounded-xl border border-near-black/10 text-sm focus:outline-none focus:border-hot-pink/40",children:[(0,a.jsx)("option",{value:"",children:"Select village"}),["Dededo","Yigo","Tamuning","Tumon","Hagatna","Mangilao","Barrigada","Sinajana"].map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-display text-xl font-bold",children:e.name}),e.bio&&(0,a.jsx)("p",{className:"text-warm-gray text-sm",children:e.bio}),e.area&&(0,a.jsxs)("p",{className:"text-xs text-warm-gray flex items-center gap-1 mt-1",children:[(0,a.jsx)(c.MapPin,{className:"w-3 h-3"})," ",e.area]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>N(!1),className:"px-3 py-1.5 text-sm text-warm-gray hover:text-near-black transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:z,className:"px-4 py-1.5 bg-hot-pink text-white text-sm font-medium rounded-xl hover:bg-hot-pink-dark transition-colors",children:"Save"})]}):(0,a.jsx)("button",{onClick:()=>N(!0),className:"p-2 text-warm-gray hover:text-near-black hover:bg-near-black/5 rounded-xl transition-colors",children:(0,a.jsx)(g.Pencil,{className:"w-4 h-4"})})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 pt-4 border-t border-near-black/5",children:[(0,a.jsxs)(f.default,{href:"/messages",className:"flex items-center gap-1.5 text-sm text-warm-gray hover:text-hot-pink transition-colors",children:[(0,a.jsx)(h.MessageCircle,{className:"w-4 h-4"})," Messages"]}),(0,a.jsxs)("button",{onClick:()=>l(),className:"flex items-center gap-1.5 text-sm text-warm-gray hover:text-red-500 transition-colors ml-auto",children:[(0,a.jsx)(m,{className:"w-4 h-4"})," Sign Out"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 bg-near-black/5 rounded-xl p-1 mb-6",children:[(0,a.jsxs)("button",{onClick:()=>y("active"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all ${"active"===d?"bg-white text-near-black shadow-sm":"text-warm-gray"}`,children:[(0,a.jsx)(u,{className:"w-4 h-4"})," Active (",j?.length??0,")"]}),(0,a.jsxs)("button",{onClick:()=>y("sold"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all ${"sold"===d?"bg-white text-near-black shadow-sm":"text-warm-gray"}`,children:[(0,a.jsx)(p,{className:"w-4 h-4"})," Sold (",v?.length??0,")"]})]}),void 0===B?(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Array.from({length:4}).map((e,t)=>(0,a.jsx)(i.ListingCardSkeleton,{},t))}):0===B.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(x.Package,{className:"w-12 h-12 text-hot-pink/20 mx-auto mb-3"}),(0,a.jsx)("h3",{className:"font-display font-bold mb-1",children:"active"===d?"No active listings":"Nothing sold yet"}),(0,a.jsx)("p",{className:"text-warm-gray text-sm mb-4",children:"active"===d?"Time to let go of some baggage?":"Your stuff is still looking for new homes"}),"active"===d&&(0,a.jsxs)(f.default,{href:"/sell",className:"inline-flex items-center gap-2 px-5 py-2.5 bg-hot-pink text-white rounded-xl font-medium hover:bg-hot-pink-dark transition-colors",children:[(0,a.jsx)(b.Sparkles,{className:"w-4 h-4"})," Post a Listing"]})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:B.map((e,t)=>(0,a.jsx)(i.ListingCard,{listing:e,index:t},e._id))})]})}e.s(["default",()=>y],30257)}]);