module.exports=[11241,10092,59230,99692,95487,21338,50527,4939,54662,46727,93573,39894,96373,77926,a=>{"use strict";let b,c,d;for(var e,f,g=a.i(72131),h=[],i=[],j=Uint8Array,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,m=k.length;l<m;++l)h[l]=k[l],i[k.charCodeAt(l)]=l;function n(a){var b=a.length;if(b%4>0)throw Error("Invalid string. Length must be a multiple of 4");var c=a.indexOf("=");-1===c&&(c=b);var d=c===b?0:4-c%4;return[c,d]}function o(a){var b=n(a),c=b[0],d=b[1];return(c+d)*3/4-d}function p(a){var b,c,d=n(a),e=d[0],f=d[1],g=new j((e+f)*3/4-f),h=0,k=f>0?e-4:e;for(c=0;c<k;c+=4)b=i[a.charCodeAt(c)]<<18|i[a.charCodeAt(c+1)]<<12|i[a.charCodeAt(c+2)]<<6|i[a.charCodeAt(c+3)],g[h++]=b>>16&255,g[h++]=b>>8&255,g[h++]=255&b;return 2===f&&(b=i[a.charCodeAt(c)]<<2|i[a.charCodeAt(c+1)]>>4,g[h++]=255&b),1===f&&(b=i[a.charCodeAt(c)]<<10|i[a.charCodeAt(c+1)]<<4|i[a.charCodeAt(c+2)]>>2,g[h++]=b>>8&255,g[h++]=255&b),g}function q(a){for(var b,c=a.length,d=c%3,e=[],f=0,g=c-d;f<g;f+=16383)e.push(function(a,b,c){for(var d,e=[],f=b;f<c;f+=3)d=(a[f]<<16&0xff0000)+(a[f+1]<<8&65280)+(255&a[f+2]),e.push(h[d>>18&63]+h[d>>12&63]+h[d>>6&63]+h[63&d]);return e.join("")}(a,f,f+16383>g?g:f+16383));return 1===d?e.push(h[(b=a[c-1])>>2]+h[b<<4&63]+"=="):2===d&&e.push(h[(b=(a[c-2]<<8)+a[c-1])>>10]+h[b>>4&63]+h[b<<2&63]+"="),e.join("")}function r(a){return q(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function s(a){if(void 0===a)return{};if(!u(a))throw Error(`The arguments to a Convex function must be an object. Received: ${a}`);return a}function t(a){if(void 0===a)throw Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if("string"!=typeof a)throw Error(`Invalid deployment address: found ${a}".`);if(!(a.startsWith("http:")||a.startsWith("https:")))throw Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${a}".`);try{new URL(a)}catch{throw Error(`Invalid deployment address: "${a}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(a.endsWith(".convex.site"))throw Error(`Invalid deployment address: "${a}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function u(a){let b="object"==typeof a,c=Object.getPrototypeOf(a),d=null===c||c===Object.prototype||c?.constructor?.name==="Object";return b&&d}i[45]=62,i[95]=63,a.s(["byteLength",()=>o,"fromByteArray",()=>q,"fromByteArrayUrlSafeNoPadding",()=>r,"toByteArray",()=>p],68517),a.s(["isSimpleObject",()=>u,"parseArgs",()=>s,"validateDeploymentUrl",()=>t],10092);let v=BigInt("-9223372036854775808"),w=BigInt("9223372036854775807"),x=BigInt("0"),y=BigInt("8"),z=BigInt("256");function A(a){return Number.isNaN(a)||!Number.isFinite(a)||Object.is(a,-0)}let B=DataView.prototype.setBigInt64?function(a){if(a<v||w<a)throw Error(`BigInt ${a} does not fit into a 64-bit signed integer.`);let b=new ArrayBuffer(8);return new DataView(b).setBigInt64(0,a,!0),q(new Uint8Array(b))}:function(a){a<x&&(a-=v+v);let b=a.toString(16);b.length%2==1&&(b="0"+b);let c=new Uint8Array(new ArrayBuffer(8)),d=0;for(let e of b.match(/.{2}/g).reverse())c.set([parseInt(e,16)],d++),a>>=y;return q(c)},C=DataView.prototype.getBigInt64?function(a){let b=p(a);if(8!==b.byteLength)throw Error(`Received ${b.byteLength} bytes, expected 8 for $integer`);return new DataView(b.buffer).getBigInt64(0,!0)}:function(a){let b=p(a);if(8!==b.byteLength)throw Error(`Received ${b.byteLength} bytes, expected 8 for $integer`);let c=x,d=x;for(let a of b)c+=BigInt(a)*z**d,d++;return c>w&&(c+=v+v),c};function D(a){if(a.length>1024)throw Error(`Field name ${a} exceeds maximum field name length 1024.`);if(a.startsWith("$"))throw Error(`Field name ${a} starts with a '$', which is reserved.`);for(let b=0;b<a.length;b+=1){let c=a.charCodeAt(b);if(c<32||c>=127)throw Error(`Field name ${a} has invalid character '${a[b]}': Field names can only contain non-control ASCII characters`)}}function E(a){if(null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a)return a;if(Array.isArray(a))return a.map(a=>E(a));if("object"!=typeof a)throw Error(`Unexpected type of ${a}`);let b=Object.entries(a);if(1===b.length){let c=b[0][0];if("$bytes"===c){if("string"!=typeof a.$bytes)throw Error(`Malformed $bytes field on ${a}`);return p(a.$bytes).buffer}if("$integer"===c){if("string"!=typeof a.$integer)throw Error(`Malformed $integer field on ${a}`);return C(a.$integer)}if("$float"===c){if("string"!=typeof a.$float)throw Error(`Malformed $float field on ${a}`);let b=p(a.$float);if(8!==b.byteLength)throw Error(`Received ${b.byteLength} bytes, expected 8 for $float`);let c=new DataView(b.buffer).getFloat64(0,!0);if(!A(c))throw Error(`Float ${c} should be encoded as a number`);return c}if("$set"===c)throw Error("Received a Set which is no longer supported as a Convex type.");if("$map"===c)throw Error("Received a Map which is no longer supported as a Convex type.")}let c={};for(let[b,d]of Object.entries(a))D(b),c[b]=E(d);return c}function F(a){let b=JSON.stringify(a,(a,b)=>void 0===b?"undefined":"bigint"==typeof b?`${b.toString()}n`:b);if(b.length>16384){let a="[...truncated]",c=16384-a.length,d=b.codePointAt(c-1);return void 0!==d&&d>65535&&(c-=1),b.substring(0,c)+a}return b}function G(a,b,c,d){if(void 0===a){let a=c&&` (present at path ${c} in original object ${F(b)})`;throw Error(`undefined is not a valid Convex value${a}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(null===a)return a;if("bigint"==typeof a){if(a<v||w<a)throw Error(`BigInt ${a} does not fit into a 64-bit signed integer.`);return{$integer:B(a)}}if("number"==typeof a)if(!A(a))return a;else{let b=new ArrayBuffer(8);return new DataView(b).setFloat64(0,a,!0),{$float:q(new Uint8Array(b))}}if("boolean"==typeof a||"string"==typeof a)return a;if(a instanceof ArrayBuffer)return{$bytes:q(new Uint8Array(a))};if(Array.isArray(a))return a.map((a,d)=>G(a,b,c+`[${d}]`,!1));if(a instanceof Set)throw Error(H(c,"Set",[...a],b));if(a instanceof Map)throw Error(H(c,"Map",[...a],b));if(!u(a)){let d=a?.constructor?.name;throw Error(H(c,d?`${d} `:"",a,b))}let e={},f=Object.entries(a);for(let[a,g]of(f.sort(([a,b],[c,d])=>a===c?0:a<c?-1:1),f))void 0!==g?(D(a),e[a]=G(g,b,c+`.${a}`,!1)):d&&(D(a),e[a]=I(g,b,c+`.${a}`));return e}function H(a,b,c,d){return a?`${b}${F(c)} is not a supported Convex type (present at path ${a} in original object ${F(d)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${b}${F(c)} is not a supported Convex type.`}function I(a,b,c){if(void 0===a)return{$undefined:null};if(void 0===b)throw Error(`Programming error. Current value is ${F(a)} but original value is undefined`);return G(a,b,c,!1)}function J(a){return G(a,a,"",!1)}function K(a){return I(a,a,"")}function L(a){return G(a,a,"",!0)}a.s(["convexOrUndefinedToJson",()=>K,"convexToJson",()=>J,"jsonToConvex",()=>E,"patchValueToJson",()=>L,"stringifyValueForError",()=>F],59230);var M=Object.defineProperty,N=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?M(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};function O(a,b){let c=void 0!==b?` for field "${b}"`:"";throw Error(`A validator is undefined${c} in ${a}. This is often caused by circular imports. See https://docs.convex.dev/error#undefined-validator for details.`)}class P{constructor({isOptional:a}){N(this,"type"),N(this,"fieldPaths"),N(this,"isOptional"),N(this,"isConvexValidator"),this.isOptional=a,this.isConvexValidator=!0}}class Q extends P{constructor({isOptional:a,tableName:b}){if(super({isOptional:a}),N(this,"tableName"),N(this,"kind","id"),"string"!=typeof b)throw Error("v.id(tableName) requires a string");this.tableName=b}get json(){return{type:"id",tableName:this.tableName}}asOptional(){return new Q({isOptional:"optional",tableName:this.tableName})}}class R extends P{constructor(){super(...arguments),N(this,"kind","float64")}get json(){return{type:"number"}}asOptional(){return new R({isOptional:"optional"})}}class S extends P{constructor(){super(...arguments),N(this,"kind","int64")}get json(){return{type:"bigint"}}asOptional(){return new S({isOptional:"optional"})}}class T extends P{constructor(){super(...arguments),N(this,"kind","boolean")}get json(){return{type:this.kind}}asOptional(){return new T({isOptional:"optional"})}}class U extends P{constructor(){super(...arguments),N(this,"kind","bytes")}get json(){return{type:this.kind}}asOptional(){return new U({isOptional:"optional"})}}class V extends P{constructor(){super(...arguments),N(this,"kind","string")}get json(){return{type:this.kind}}asOptional(){return new V({isOptional:"optional"})}}class W extends P{constructor(){super(...arguments),N(this,"kind","null")}get json(){return{type:this.kind}}asOptional(){return new W({isOptional:"optional"})}}class X extends P{constructor(){super(...arguments),N(this,"kind","any")}get json(){return{type:this.kind}}asOptional(){return new X({isOptional:"optional"})}}class Y extends P{constructor({isOptional:a,fields:b}){super({isOptional:a}),N(this,"fields"),N(this,"kind","object"),globalThis.Object.entries(b).forEach(([a,b])=>{if(void 0===b&&O("v.object()",a),!b.isConvexValidator)throw Error("v.object() entries must be validators")}),this.fields=b}get json(){return{type:this.kind,value:globalThis.Object.fromEntries(globalThis.Object.entries(this.fields).map(([a,b])=>[a,{fieldType:b.json,optional:"optional"===b.isOptional}]))}}asOptional(){return new Y({isOptional:"optional",fields:this.fields})}omit(...a){let b={...this.fields};for(let c of a)delete b[c];return new Y({isOptional:this.isOptional,fields:b})}pick(...a){let b={};for(let c of a)b[c]=this.fields[c];return new Y({isOptional:this.isOptional,fields:b})}partial(){let a={};for(let[b,c]of globalThis.Object.entries(this.fields))a[b]=c.asOptional();return new Y({isOptional:this.isOptional,fields:a})}extend(a){return new Y({isOptional:this.isOptional,fields:{...this.fields,...a}})}}class Z extends P{constructor({isOptional:a,value:b}){if(super({isOptional:a}),N(this,"value"),N(this,"kind","literal"),"string"!=typeof b&&"boolean"!=typeof b&&"number"!=typeof b&&"bigint"!=typeof b)throw Error("v.literal(value) must be a string, number, or boolean");this.value=b}get json(){return{type:this.kind,value:J(this.value)}}asOptional(){return new Z({isOptional:"optional",value:this.value})}}class $ extends P{constructor({isOptional:a,element:b}){super({isOptional:a}),N(this,"element"),N(this,"kind","array"),void 0===b&&O("v.array()"),this.element=b}get json(){return{type:this.kind,value:this.element.json}}asOptional(){return new $({isOptional:"optional",element:this.element})}}class _ extends P{constructor({isOptional:a,key:b,value:c}){if(super({isOptional:a}),N(this,"key"),N(this,"value"),N(this,"kind","record"),void 0===b&&O("v.record()","key"),void 0===c&&O("v.record()","value"),"optional"===b.isOptional)throw Error("Record validator cannot have optional keys");if("optional"===c.isOptional)throw Error("Record validator cannot have optional values");if(!b.isConvexValidator||!c.isConvexValidator)throw Error("Key and value of v.record() but be validators");this.key=b,this.value=c}get json(){return{type:this.kind,keys:this.key.json,values:{fieldType:this.value.json,optional:!1}}}asOptional(){return new _({isOptional:"optional",key:this.key,value:this.value})}}class aa extends P{constructor({isOptional:a,members:b}){super({isOptional:a}),N(this,"members"),N(this,"kind","union"),b.forEach((a,b)=>{if(void 0===a&&O("v.union()",`member at index ${b}`),!a.isConvexValidator)throw Error("All members of v.union() must be validators")}),this.members=b}get json(){return{type:this.kind,value:this.members.map(a=>a.json)}}asOptional(){return new aa({isOptional:"optional",members:this.members})}}function ab(a){return!!a.isConvexValidator}function ac(a){return ab(a)?a:ad.object(a)}let ad={id:a=>new Q({isOptional:"required",tableName:a}),null:()=>new W({isOptional:"required"}),number:()=>new R({isOptional:"required"}),float64:()=>new R({isOptional:"required"}),bigint:()=>new S({isOptional:"required"}),int64:()=>new S({isOptional:"required"}),boolean:()=>new T({isOptional:"required"}),string:()=>new V({isOptional:"required"}),bytes:()=>new U({isOptional:"required"}),literal:a=>new Z({isOptional:"required",value:a}),array:a=>new $({isOptional:"required",element:a}),object:a=>new Y({isOptional:"required",fields:a}),record:(a,b)=>new _({isOptional:"required",key:a,value:b}),union:(...a)=>new aa({isOptional:"required",members:a}),any:()=>new X({isOptional:"required"}),optional:a=>a.asOptional(),nullable:a=>ad.union(a,ad.null())};a.s(["asObjectValidator",()=>ac,"isValidator",()=>ab,"v",0,ad],99692);var ae=a.i(68517),af=Object.defineProperty,ag=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?af(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};let ah=Symbol.for("ConvexError");class ai extends(f=Error,e=ah,f){constructor(a){super("string"==typeof a?a:F(a)),ag(this,"name","ConvexError"),ag(this,"data"),ag(this,e,!0),this.data=a}}a.s(["ConvexError",()=>ai],95487);let aj=()=>Array.from({length:4},()=>0);aj(),aj(),a.s([],21338),a.s(["ConvexProvider",()=>bu,"ConvexReactClient",()=>br,"useConvex",()=>bt,"useMutation",()=>bw,"useQuery",()=>bv],96373);let ak="1.32.0";a.s(["version",0,ak],50527);var al=Object.defineProperty,am=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?al(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};function an(a){switch(a){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class ao{constructor(a){am(this,"_onLogLineFuncs"),am(this,"_verbose"),this._onLogLineFuncs={},this._verbose=a.verbose}addLogLineListener(a){let b=Math.random().toString(36).substring(2,15);for(let a=0;a<10&&void 0!==this._onLogLineFuncs[b];a++)b=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[b]=a,()=>{delete this._onLogLineFuncs[b]}}logVerbose(...a){if(this._verbose)for(let b of Object.values(this._onLogLineFuncs))b("debug",`${new Date().toISOString()}`,...a)}log(...a){for(let b of Object.values(this._onLogLineFuncs))b("info",...a)}warn(...a){for(let b of Object.values(this._onLogLineFuncs))b("warn",...a)}error(...a){for(let b of Object.values(this._onLogLineFuncs))b("error",...a)}}function ap(a){let b=new ao(a);return b.addLogLineListener((a,...b)=>{switch(a){case"debug":console.debug(...b);break;case"info":default:console.log(...b);break;case"warn":console.warn(...b);break;case"error":console.error(...b)}}),b}function aq(a,b,c,d,e){let f=an(c);if("object"==typeof e&&(e=`ConvexError ${JSON.stringify(e.errorData,null,2)}`),"info"===b){let b=e.match(/^\[.*?\] /);if(null===b)return void a.error(`[CONVEX ${f}(${d})] Could not parse console.log`);let c=e.slice(1,b[0].length-2),g=e.slice(b[0].length);a.log(`%c[CONVEX ${f}(${d})] [${c}]`,"color:rgb(0, 145, 255)",g)}else a.error(`[CONVEX ${f}(${d})] ${e}`)}function ar(a,b,c){let d=an(a);return`[CONVEX ${d}(${b})] ${c.errorMessage}
  Called by client`}function as(a,b){return b.data=a.errorData,b}function at(a){let b,c,d=a.split(":");return 1===d.length?(b=d[0],c="default"):(b=d.slice(0,d.length-1).join(":"),c=d[d.length-1]),b.endsWith(".js")&&(b=b.slice(0,-3)),`${b}:${c}`}function au(a,b){return JSON.stringify({udfPath:at(a),args:J(b)})}function av(a,b,c){let{initialNumItems:d,id:e}=c;return JSON.stringify({type:"paginated",udfPath:at(a),args:J(b),options:J({initialNumItems:d,id:e})})}var aw=Object.defineProperty,ax=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?aw(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class ay{constructor(){ax(this,"nextQueryId"),ax(this,"querySetVersion"),ax(this,"querySet"),ax(this,"queryIdToToken"),ax(this,"identityVersion"),ax(this,"auth"),ax(this,"outstandingQueriesOlderThanRestart"),ax(this,"outstandingAuthOlderThanRestart"),ax(this,"paused"),ax(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return 0===this.outstandingQueriesOlderThanRestart.size&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(a,b,c,d){let e=at(a),f=au(e,b),g=this.querySet.get(f);if(void 0!==g)return g.numSubscribers+=1,{queryToken:f,modification:null,unsubscribe:()=>this.removeSubscriber(f)};{let a=this.nextQueryId++;this.querySet.set(f,{id:a,canonicalizedUdfPath:e,args:b,numSubscribers:1,journal:c,componentPath:d}),this.queryIdToToken.set(a,f);let g=this.querySetVersion,h=this.querySetVersion+1,i={type:"Add",queryId:a,udfPath:e,args:[J(b)],journal:c,componentPath:d};return this.paused?this.pendingQuerySetModifications.set(a,i):this.querySetVersion=h,{queryToken:f,modification:{type:"ModifyQuerySet",baseVersion:g,newVersion:h,modifications:[i]},unsubscribe:()=>this.removeSubscriber(f)}}}transition(a){for(let b of a.modifications)switch(b.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(b.queryId);let a=b.journal;if(void 0!==a){let c=this.queryIdToToken.get(b.queryId);void 0!==c&&(this.querySet.get(c).journal=a)}break}case"QueryRemoved":this.outstandingQueriesOlderThanRestart.delete(b.queryId);break;default:throw Error(`Invalid modification ${b.type}`)}}queryId(a,b){let c=au(at(a),b),d=this.querySet.get(c);return void 0!==d?d.id:null}isCurrentOrNewerAuthVersion(a){return a>=this.identityVersion}getAuth(){return this.auth}setAuth(a){this.auth={tokenType:"User",value:a};let b=this.identityVersion;return this.paused||(this.identityVersion=b+1),{type:"Authenticate",baseVersion:b,...this.auth}}setAdminAuth(a,b){let c={tokenType:"Admin",value:a,impersonating:b};this.auth=c;let d=this.identityVersion;return this.paused||(this.identityVersion=d+1),{type:"Authenticate",baseVersion:d,...c}}clearAuth(){this.auth=void 0,this.markAuthCompletion();let a=this.identityVersion;return this.paused||(this.identityVersion=a+1),{type:"Authenticate",tokenType:"None",baseVersion:a}}hasAuth(){return!!this.auth}isNewAuth(a){return this.auth?.value!==a}queryPath(a){let b=this.queryIdToToken.get(a);return b?this.querySet.get(b).canonicalizedUdfPath:null}queryArgs(a){let b=this.queryIdToToken.get(a);return b?this.querySet.get(b).args:null}queryToken(a){return this.queryIdToToken.get(a)??null}queryJournal(a){return this.querySet.get(a)?.journal}restart(a){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();let b=[];for(let c of this.querySet.values()){let d={type:"Add",queryId:c.id,udfPath:c.canonicalizedUdfPath,args:[J(c.args)],journal:c.journal,componentPath:c.componentPath};b.push(d),a.has(c.id)||this.outstandingQueriesOlderThanRestart.add(c.id)}this.querySetVersion=1;let c={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:b};if(!this.auth)return this.identityVersion=0,[c,void 0];this.outstandingAuthOlderThanRestart=!0;let d={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[c,d]}pause(){this.paused=!0}resume(){let a=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,b=void 0!==this.auth?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[a,b]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(a){let b=this.querySet.get(a);if(b.numSubscribers>1)return b.numSubscribers-=1,null;{this.querySet.delete(a),this.queryIdToToken.delete(b.id),this.outstandingQueriesOlderThanRestart.delete(b.id);let c=this.querySetVersion,d=this.querySetVersion+1,e={type:"Remove",queryId:b.id};return this.paused?this.pendingQuerySetModifications.has(b.id)?this.pendingQuerySetModifications.delete(b.id):this.pendingQuerySetModifications.set(b.id,e):this.querySetVersion=d,{type:"ModifyQuerySet",baseVersion:c,newVersion:d,modifications:[e]}}}}var az=Object.defineProperty,aA=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?az(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class aB{constructor(a,b){this.logger=a,this.markConnectionStateDirty=b,aA(this,"inflightRequests"),aA(this,"requestsOlderThanRestart"),aA(this,"inflightMutationsCount",0),aA(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(a,b){let c=new Promise(c=>{this.inflightRequests.set(a.requestId,{message:a,status:{status:b?"Requested":"NotSent",requestedAt:new Date,onResult:c}}),"Mutation"===a.type?this.inflightMutationsCount++:"Action"===a.type&&this.inflightActionsCount++});return this.markConnectionStateDirty(),c}onResponse(a){let b,c,d=this.inflightRequests.get(a.requestId);if(void 0===d||"Completed"===d.status.status)return null;let e="Mutation"===d.message.type?"mutation":"action",f=d.message.udfPath;for(let b of a.logLines)aq(this.logger,"info",e,f,b);let g=d.status;if(a.success)b={success:!0,logLines:a.logLines,value:E(a.result)},c=()=>g.onResult(b);else{let d=a.result,{errorData:h}=a;aq(this.logger,"error",e,f,d),b={success:!1,errorMessage:d,errorData:void 0!==h?E(h):void 0,logLines:a.logLines},c=()=>g.onResult(b)}return"ActionResponse"!==a.type&&a.success?(d.status={status:"Completed",result:b,ts:a.ts,onResolve:c},null):(c(),this.inflightRequests.delete(a.requestId),this.requestsOlderThanRestart.delete(a.requestId),"Action"===d.message.type?this.inflightActionsCount--:"Mutation"===d.message.type&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:a.requestId,result:b})}removeCompleted(a){let b=new Map;for(let[c,d]of this.inflightRequests.entries()){let e=d.status;"Completed"===e.status&&e.ts.lessThanOrEqual(a)&&(e.onResolve(),b.set(c,e.result),"Mutation"===d.message.type?this.inflightMutationsCount--:"Action"===d.message.type&&this.inflightActionsCount--,this.inflightRequests.delete(c),this.requestsOlderThanRestart.delete(c))}return b.size>0&&this.markConnectionStateDirty(),b}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());let a=[];for(let[b,c]of this.inflightRequests){if("NotSent"===c.status.status){c.status.status="Requested",a.push(c.message);continue}if("Mutation"===c.message.type)a.push(c.message);else if("Action"===c.message.type){if(this.inflightRequests.delete(b),this.requestsOlderThanRestart.delete(b),this.inflightActionsCount--,"Completed"===c.status.status)throw Error("Action should never be in 'Completed' state");c.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),a}resume(){let a=[];for(let[,b]of this.inflightRequests)if("NotSent"===b.status.status){b.status.status="Requested",a.push(b.message);continue}return a}hasIncompleteRequests(){for(let a of this.inflightRequests.values())if("Requested"===a.status.status)return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return 0===this.requestsOlderThanRestart.size}timeOfOldestInflightRequest(){if(0===this.inflightRequests.size)return null;let a=Date.now();for(let b of this.inflightRequests.values())"Completed"!==b.status.status&&b.status.requestedAt.getTime()<a&&(a=b.status.requestedAt.getTime());return new Date(a)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}let aC=Symbol.for("functionName"),aD=Symbol.for("toReferencePath");function aE(a,b){a[aD]=b}function aF(a){let b;if("string"==typeof a)b=a.startsWith("function://")?{functionHandle:a}:{name:a};else if(a[aC])b={name:a[aC]};else{let c=a[aD]??null;if(!c)throw Error(`${a} is not a functionReference`);b={reference:c}}return b}function aG(a){let b=aF(a);if(void 0===b.name){if(void 0!==b.functionHandle)throw Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${b.functionHandle}`);if(void 0!==b.reference)throw Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${b.reference}`);throw Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(b)}`)}if("string"==typeof a)return a;let c=a[aC];if(!c)throw Error(`${a} is not a functionReference`);return c}function aH(a){return{[aC]:a}}a.s(["getFunctionAddress",()=>aF,"setReferencePath",()=>aE,"toReferencePath",0,aD],4939);let aI=function a(b=[]){return new Proxy({},{get(c,d){if("string"==typeof d)return a([...b,d]);if(d===aC){if(b.length<2){let a=["api",...b].join(".");throw Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${a}\``)}let a=b.slice(0,-1).join("/"),c=b[b.length-1];return"default"===c?a:a+":"+c}return d===Symbol.toStringTag?"FunctionReference":void 0}})}();a.s(["anyApi",0,aI,"getFunctionName",()=>aG,"makeFunctionReference",()=>aH],54662);var aJ=Object.defineProperty,aK=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?aJ(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class aL{constructor(a){aK(this,"queryResults"),aK(this,"modifiedQueries"),this.queryResults=a,this.modifiedQueries=[]}getQuery(a,...b){let c=s(b[0]),d=aG(a),e=this.queryResults.get(au(d,c));if(void 0!==e)return aL.queryValue(e.result)}getAllQueries(a){let b=[],c=aG(a);for(let a of this.queryResults.values())a.udfPath===at(c)&&b.push({args:a.args,value:aL.queryValue(a.result)});return b}setQuery(a,b,c){let d=s(b),e=aG(a),f=au(e,d);this.queryResults.set(f,{udfPath:e,args:d,result:void 0===c?void 0:{success:!0,value:c,logLines:[]}}),this.modifiedQueries.push(f)}static queryValue(a){return void 0===a?void 0:a.success?a.value:void 0}}class aM{constructor(){aK(this,"queryResults"),aK(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(a,b){this.optimisticUpdates=this.optimisticUpdates.filter(a=>!b.has(a.mutationId));let c=this.queryResults;this.queryResults=new Map(a);let d=new aL(this.queryResults);for(let a of this.optimisticUpdates)a.update(d);let e=[];for(let[a,b]of this.queryResults){let d=c.get(a);(void 0===d||d.result!==b.result)&&e.push(a)}return e}applyOptimisticUpdate(a,b){this.optimisticUpdates.push({update:a,mutationId:b});let c=new aL(this.queryResults);return a(c),c.modifiedQueries}rawQueryResult(a){let b=this.queryResults.get(a);if(void 0!==b)return b.result}queryResult(a){let b=this.queryResults.get(a);if(void 0===b)return;let c=b.result;if(void 0!==c){if(c.success)return c.value;if(void 0!==c.errorData)throw as(c,new ai(ar("query",b.udfPath,c)));throw Error(ar("query",b.udfPath,c))}}hasQueryResult(a){return void 0!==this.queryResults.get(a)}queryLogs(a){let b=this.queryResults.get(a);return b?.result?.logLines}}var aN=Object.defineProperty,aO=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?aN(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class aP{constructor(a,b){aO(this,"low"),aO(this,"high"),aO(this,"__isUnsignedLong__"),this.low=0|a,this.high=0|b,this.__isUnsignedLong__=!0}static isLong(a){return!0===(a&&a.__isUnsignedLong__)}static fromBytesLE(a){return new aP(a[0]|a[1]<<8|a[2]<<16|a[3]<<24,a[4]|a[5]<<8|a[6]<<16|a[7]<<24)}toBytesLE(){let a=this.high,b=this.low;return[255&b,b>>>8&255,b>>>16&255,b>>>24,255&a,a>>>8&255,a>>>16&255,a>>>24]}static fromNumber(a){return isNaN(a)||a<0?aQ:a>=aS?aT:new aP(a%aR|0,a/aR|0)}toString(){return(BigInt(this.high)*BigInt(aR)+BigInt(this.low)).toString()}equals(a){return aP.isLong(a)||(a=aP.fromValue(a)),(this.high>>>31!=1||a.high>>>31!=1)&&this.high===a.high&&this.low===a.low}notEquals(a){return!this.equals(a)}comp(a){return(aP.isLong(a)||(a=aP.fromValue(a)),this.equals(a))?0:a.high>>>0>this.high>>>0||a.high===this.high&&a.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(a){return 0>=this.comp(a)}static fromValue(a){return"number"==typeof a?aP.fromNumber(a):new aP(a.low,a.high)}}let aQ=new aP(0,0),aR=0x100000000,aS=0xffffffffffffffff,aT=new aP(-1,-1);var aU=Object.defineProperty,aV=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?aU(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class aW{constructor(a,b){aV(this,"version"),aV(this,"remoteQuerySet"),aV(this,"queryPath"),aV(this,"logger"),this.version={querySet:0,ts:aP.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=a,this.logger=b}transition(a){let b=a.startVersion;if(this.version.querySet!==b.querySet||this.version.ts.notEquals(b.ts)||this.version.identity!==b.identity)throw Error(`Invalid start version: ${b.ts.toString()}:${b.querySet}:${b.identity}, transitioning from ${this.version.ts.toString()}:${this.version.querySet}:${this.version.identity}`);for(let b of a.modifications)switch(b.type){case"QueryUpdated":{let a=this.queryPath(b.queryId);if(a)for(let c of b.logLines)aq(this.logger,"info","query",a,c);let c=E(b.value??null);this.remoteQuerySet.set(b.queryId,{success:!0,value:c,logLines:b.logLines});break}case"QueryFailed":{let a=this.queryPath(b.queryId);if(a)for(let c of b.logLines)aq(this.logger,"info","query",a,c);let{errorData:c}=b;this.remoteQuerySet.set(b.queryId,{success:!1,errorMessage:b.errorMessage,errorData:void 0!==c?E(c):void 0,logLines:b.logLines});break}case"QueryRemoved":this.remoteQuerySet.delete(b.queryId);break;default:throw Error(`Invalid modification ${b.type}`)}this.version=a.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function aX(a){let b=ae.toByteArray(a);return aP.fromBytesLE(Array.from(b))}function aY(a){switch(a.type){case"FatalError":case"AuthError":case"ActionResponse":case"TransitionChunk":case"Ping":return{...a};case"MutationResponse":if(a.success)return{...a,ts:aX(a.ts)};return{...a};case"Transition":return{...a,startVersion:{...a.startVersion,ts:aX(a.startVersion.ts)},endVersion:{...a.endVersion,ts:aX(a.endVersion.ts)}}}}var aZ=Object.defineProperty,a$=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?aZ(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};function a_(){return(void 0===b&&(b=Date.now()),"u"<typeof performance||!performance.now)?Date.now():Math.round(b+performance.now())}function a0(){return`t=${Math.round((a_()-b)/100)/10}s`}let a1={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},TableSummariesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};class a2{constructor(a,b,c,d,e,f){this.markConnectionStateDirty=e,this.debug=f,a$(this,"socket"),a$(this,"connectionCount"),a$(this,"_hasEverConnected",!1),a$(this,"lastCloseReason"),a$(this,"transitionChunkBuffer",null),a$(this,"defaultInitialBackoff"),a$(this,"maxBackoff"),a$(this,"retries"),a$(this,"serverInactivityThreshold"),a$(this,"reconnectDueToServerInactivityTimeout"),a$(this,"scheduledReconnect",null),a$(this,"networkOnlineHandler",null),a$(this,"pendingNetworkRecoveryInfo",null),a$(this,"uri"),a$(this,"onOpen"),a$(this,"onResume"),a$(this,"onMessage"),a$(this,"webSocketConstructor"),a$(this,"logger"),a$(this,"onServerDisconnectError"),this.webSocketConstructor=c,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=6e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=a,this.onOpen=b.onOpen,this.onResume=b.onResume,this.onMessage=b.onMessage,this.onServerDisconnectError=b.onServerDisconnectError,this.logger=d,this.setupNetworkListener(),this.connect()}setSocketState(a){this.socket=a,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}setupNetworkListener(){}cleanupNetworkListener(){this.networkOnlineHandler}assembleTransition(a){if(a.partNumber<0||a.partNumber>=a.totalParts||0===a.totalParts||this.transitionChunkBuffer&&(this.transitionChunkBuffer.totalParts!==a.totalParts||this.transitionChunkBuffer.transitionId!==a.transitionId))throw this.transitionChunkBuffer=null,Error("Invalid TransitionChunk");if(null===this.transitionChunkBuffer&&(this.transitionChunkBuffer={chunks:[],totalParts:a.totalParts,transitionId:a.transitionId}),a.partNumber!==this.transitionChunkBuffer.chunks.length){let b=this.transitionChunkBuffer.chunks.length;throw this.transitionChunkBuffer=null,Error(`TransitionChunk received out of order: expected part ${b}, got ${a.partNumber}`)}if(this.transitionChunkBuffer.chunks.push(a.chunk),this.transitionChunkBuffer.chunks.length===a.totalParts){let a=this.transitionChunkBuffer.chunks.join("");this.transitionChunkBuffer=null;let b=aY(JSON.parse(a));if("Transition"!==b.type)throw Error(`Expected Transition, got ${b.type} after assembling chunks`);return b}return null}connect(){if("terminated"===this.socket.state)return;if("disconnected"!==this.socket.state&&"stopped"!==this.socket.state)throw Error("Didn't start connection from disconnected state: "+this.socket.state);let a=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:a,paused:"no"}),this.resetServerInactivityTimeout(),a.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),"connecting"!==this.socket.state)throw Error("onopen called with socket not in connecting state");if(this.setSocketState({state:"ready",ws:a,paused:"yes"===this.socket.paused?"uninitialized":"no"}),this.resetServerInactivityTimeout(),"no"===this.socket.paused&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:a_()})),"InitialConnect"!==this.lastCloseReason&&(this.lastCloseReason?this.logger.log("WebSocket reconnected at",a0(),"after disconnect due to",this.lastCloseReason):this.logger.log("WebSocket reconnected at",a0())),this.connectionCount+=1,this.lastCloseReason=null,null!==this.pendingNetworkRecoveryInfo){let{timeSavedMs:a}=this.pendingNetworkRecoveryInfo;this.pendingNetworkRecoveryInfo=null,this.sendMessage({type:"Event",eventType:"NetworkRecoveryReconnect",event:{timeSavedMs:a}}),this.logger.log(`Network recovery reconnect saved ~${Math.round(a/1e3)}s of waiting`)}},a.onerror=a=>{this.transitionChunkBuffer=null;let b=a.message;b&&this.logger.log(`WebSocket error message: ${b}`)},a.onmessage=a=>{this.resetServerInactivityTimeout();let b=a.data.length,c=aY(JSON.parse(a.data));if(this._logVerbose(`received ws message with type ${c.type}`),"Ping"!==c.type){if("TransitionChunk"===c.type){let a=this.assembleTransition(c);if(!a)return;c=a,this._logVerbose(`assembled full ws message of type ${c.type}`)}null!==this.transitionChunkBuffer&&(this.transitionChunkBuffer=null,this.logger.log(`Received unexpected ${c.type} while buffering TransitionChunks`)),"Transition"===c.type&&this.reportLargeTransition({messageLength:b,transition:c}),this.onMessage(c).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())}},a.onclose=a=>{if(this._logVerbose("begin ws.onclose"),this.transitionChunkBuffer=null,null===this.lastCloseReason&&(this.lastCloseReason=a.reason||`closed with code ${a.code}`),1e3!==a.code&&1001!==a.code&&1005!==a.code&&4040!==a.code){let b=`WebSocket closed with code ${a.code}`;a.reason&&(b+=`: ${a.reason}`),this.logger.log(b),this.onServerDisconnectError&&a.reason&&this.onServerDisconnectError(b)}let b=function(a){if(void 0===a)return"Unknown";for(let b of Object.keys(a1))if(a.startsWith(b))return b;return"Unknown"}(a.reason);this.scheduleReconnect(b)}}socketState(){return this.socket.state}sendMessage(a){let b={type:a.type,..."Authenticate"===a.type&&"User"===a.tokenType?{value:`...${a.value.slice(-7)}`}:{}};if("ready"===this.socket.state&&"no"===this.socket.paused){let c=JSON.stringify(function(a){switch(a.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...a};case"Connect":let b;if(void 0===a.maxObservedTimestamp)return{...a,maxObservedTimestamp:void 0};return{...a,maxObservedTimestamp:(b=new Uint8Array(a.maxObservedTimestamp.toBytesLE()),ae.fromByteArray(b))}}}(a)),d=!1;try{this.socket.ws.send(c),d=!0}catch(a){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${a}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`${d?"sent":"failed to send"} message with type ${a.type}: ${JSON.stringify(b)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(b)}`),!1}resetServerInactivityTimeout(){"terminated"!==this.socket.state&&(null!==this.reconnectDueToServerInactivityTimeout&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(a){this.scheduledReconnect&&(clearTimeout(this.scheduledReconnect.timeout),this.scheduledReconnect=null),this.socket={state:"disconnected"};let b=this.nextBackoff(a);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${Math.round(b)}ms`);let c=a_(),d=setTimeout(()=>{this.scheduledReconnect?.timeout===d&&(this.scheduledReconnect=null,this.connect())},b);this.scheduledReconnect={timeout:d,scheduledAt:c,backoffMs:b}}closeAndReconnect(a){switch(this._logVerbose(`begin closeAndReconnect with reason ${a}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":this.lastCloseReason=a,this.close(),this.scheduleReconnect("client");return;default:this.socket}}close(){switch(this.transitionChunkBuffer=null,this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{let a=this.socket.ws;return a.onmessage=a=>{this._logVerbose("Ignoring message received after close")},new Promise(b=>{a.onclose=()=>{this._logVerbose("Closed after connecting"),b()},a.onopen=()=>{this._logVerbose("Opened after connecting"),a.close()}})}case"ready":{this._logVerbose("ws.close called");let a=this.socket.ws;a.onmessage=a=>{this._logVerbose("Ignoring message received after close")};let b=new Promise(b=>{a.onclose=()=>{b()}});return a.close(),b}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.scheduledReconnect&&(clearTimeout(this.scheduledReconnect.timeout),this.scheduledReconnect=null),this.cleanupNetworkListener(),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{let a=this.close();return this.setSocketState({state:"terminated"}),a}default:throw this.socket,Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{this.cleanupNetworkListener();let a=this.close();return this.socket={state:"stopped"},a}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.setupNetworkListener(),this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":this.socket={...this.socket,paused:"yes"};return;default:return void this.socket}}tryReconnectImmediately(){if(this._logVerbose("tryReconnectImmediately called"),"disconnected"!==this.socket.state)return void this._logVerbose(`tryReconnectImmediately called but socket state is ${this.socket.state}, no action taken`);let a=null;if(this.scheduledReconnect){let b=a_()-this.scheduledReconnect.scheduledAt;a=Math.max(0,this.scheduledReconnect.backoffMs-b),this._logVerbose(`would have waited ${Math.round(a)}ms more (backoff was ${Math.round(this.scheduledReconnect.backoffMs)}ms, elapsed ${Math.round(b)}ms)`),clearTimeout(this.scheduledReconnect.timeout),this.scheduledReconnect=null,this._logVerbose("canceled scheduled reconnect")}this.logger.log("Network recovery detected, reconnecting immediately"),this.pendingNetworkRecoveryInfo=null!==a?{timeSavedMs:a}:null,this.connect()}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":"uninitialized"===this.socket.paused?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:a_()})):"yes"===this.socket.paused&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:"ready"===this.socket.state,hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(a){this.logger.logVerbose(a)}nextBackoff(a){let b=("client"===a?100:"Unknown"===a?this.defaultInitialBackoff:a1[a].timeout)*Math.pow(2,this.retries);this.retries+=1;let c=Math.min(b,this.maxBackoff),d=c*(Math.random()-.5);return c+d}reportLargeTransition({transition:a,messageLength:b}){if(void 0===a.clientClockSkew||void 0===a.serverTs)return;let c=a_()-a.clientClockSkew-a.serverTs/1e6,d=`${Math.round(c)}ms`,e=`${Math.round(b/1e4)/100}MB`,f=b/(c/1e3),g=`${Math.round(f/1e4)/100}MB per second`;this._logVerbose(`received ${e} transition in ${d} at ${g}`),b>2e7?this.logger.log(`received query results totaling more that 20MB (${e}) which will take a long time to download on slower connections`):c>2e4&&this.logger.log(`received query results totaling ${e} which took more than 20s to arrive (${d})`),this.debug&&this.sendMessage({type:"Event",eventType:"ClientReceivedTransition",event:{transitionTransitTime:c,messageLength:b}})}}class a3 extends Error{}function a4(a,b){let c;if("string"!=typeof a)throw new a3("Invalid token specified: must be a string");b||(b={});let d=+(!0!==b.header),e=a.split(".")[d];if("string"!=typeof e)throw new a3(`Invalid token specified: missing part #${d+1}`);try{c=function(a){let b=a.replace(/-/g,"+").replace(/_/g,"/");switch(b.length%4){case 0:break;case 2:b+="==";break;case 3:b+="=";break;default:throw Error("base64 string is not of the correct length")}try{var c;return c=b,decodeURIComponent(atob(c).replace(/(.)/g,(a,b)=>{let c=b.charCodeAt(0).toString(16).toUpperCase();return c.length<2&&(c="0"+c),"%"+c}))}catch{return atob(b)}}(e)}catch(a){throw new a3(`Invalid token specified: invalid base64 for part #${d+1} (${a.message})`)}try{return JSON.parse(c)}catch(a){throw new a3(`Invalid token specified: invalid json for part #${d+1} (${a.message})`)}}a3.prototype.name="InvalidTokenError";var a5=Object.defineProperty,a6=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?a5(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class a7{constructor(a,b,c){a6(this,"authState",{state:"noAuth"}),a6(this,"configVersion",0),a6(this,"syncState"),a6(this,"authenticate"),a6(this,"stopSocket"),a6(this,"tryRestartSocket"),a6(this,"pauseSocket"),a6(this,"resumeSocket"),a6(this,"clearAuth"),a6(this,"logger"),a6(this,"refreshTokenLeewaySeconds"),a6(this,"tokenConfirmationAttempts",0),this.syncState=a,this.authenticate=b.authenticate,this.stopSocket=b.stopSocket,this.tryRestartSocket=b.tryRestartSocket,this.pauseSocket=b.pauseSocket,this.resumeSocket=b.resumeSocket,this.clearAuth=b.clearAuth,this.logger=c.logger,this.refreshTokenLeewaySeconds=c.refreshTokenLeewaySeconds}async setConfig(a,b){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();let c=await this.fetchTokenAndGuardAgainstRace(a,{forceRefreshToken:!1});c.isFromOutdatedConfig||(c.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:a,onAuthChange:b},hasRetried:!1}),this.authenticate(c.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:a,onAuthChange:b}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(a){if(this.syncState.isCurrentOrNewerAuthVersion(a.endVersion.identity)&&!(a.endVersion.identity<=a.startVersion.identity)){if("waitingForServerConfirmationOfCachedToken"===this.authState.state){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}"waitingForServerConfirmationOfFreshToken"===this.authState.state&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(a){if(!1===a.authUpdateAttempted&&("waitingForServerConfirmationOfFreshToken"===this.authState.state||"waitingForServerConfirmationOfCachedToken"===this.authState.state))return void this._logVerbose("ignoring non-auth token expired error");let{baseVersion:b}=a;this.syncState.isCurrentOrNewerAuthVersion(b+1)?this.tryToReauthenticate(a):this._logVerbose("ignoring auth error for previous auth attempt")}async tryToReauthenticate(a){if(this._logVerbose(`attempting to reauthenticate: ${a.error}`),"noAuth"===this.authState.state||"waitingForServerConfirmationOfFreshToken"===this.authState.state&&this.tokenConfirmationAttempts>=2){this.logger.error(`Failed to authenticate: "${a.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),"noAuth"!==this.authState.state&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}"waitingForServerConfirmationOfFreshToken"===this.authState.state&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${2-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();let b=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});b.isFromOutdatedConfig||(b.value&&this.syncState.isNewAuth(b.value)?(this.authenticate(b.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:b.value,hadAuth:"notRefetching"===this.authState.state||"waitingForScheduledRefetch"===this.authState.state})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if("noAuth"===this.authState.state)return;this._logVerbose("refetching auth token");let a=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});a.isFromOutdatedConfig||(a.value?this.syncState.isNewAuth(a.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:a.value,config:this.authState.config}),this.authenticate(a.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(a){if("noAuth"===this.authState.state)return;let b=this.decodeToken(a);if(!b)return void this.logger.error("Auth token is not a valid JWT, cannot refetch the token");let{iat:c,exp:d}=b;if(!c||!d)return void this.logger.error("Auth token does not have required fields, cannot refetch the token");let e=d-c;if(e<=2)return void this.logger.error("Auth token does not live long enough, cannot refetch the token");let f=Math.min(1728e6,(e-this.refreshTokenLeewaySeconds)*1e3);f<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${e}s`),f=0);let g=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},f);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:g,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${f}ms`)}async fetchTokenAndGuardAgainstRace(a,b){let c=++this.configVersion;this._logVerbose(`fetching token with config version ${c}`);let d=await a(b);return this.configVersion!==c?(this._logVerbose(`stale config version, expected ${c}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:d}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(a){a(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(a){let b="waitingForServerConfirmationOfFreshToken"===a.state?{hadAuth:a.hadAuth,state:a.state,token:`...${a.token.slice(-7)}`}:{state:a.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(b)}`),a.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0}"waitingForScheduledRefetch"===this.authState.state&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=a}decodeToken(a){try{return a4(a)}catch(a){return this._logVerbose(`Error decoding token: ${a instanceof Error?a.message:"Unknown error"}`),null}}_logVerbose(a){this.logger.logVerbose(`${a} [v${this.configVersion}]`)}}let a8=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function a9(a){let b=a.name.slice(6);return{name:b=b.charAt(0).toLowerCase()+b.slice(1),startTime:a.startTime}}var ba=Object.defineProperty,bb=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?ba(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class bc{constructor(a,b,c){let d;if(bb(this,"address"),bb(this,"state"),bb(this,"requestManager"),bb(this,"webSocketManager"),bb(this,"authenticationManager"),bb(this,"remoteQuerySet"),bb(this,"optimisticQueryResults"),bb(this,"_transitionHandlerCounter",0),bb(this,"_nextRequestId"),bb(this,"_onTransitionFns",new Map),bb(this,"_sessionId"),bb(this,"firstMessageReceived",!1),bb(this,"debug"),bb(this,"logger"),bb(this,"maxObservedTimestamp"),bb(this,"connectionStateSubscribers",new Map),bb(this,"nextConnectionStateSubscriberId",0),bb(this,"_lastPublishedConnectionState"),bb(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{let a=this.connectionState();if(JSON.stringify(a)!==JSON.stringify(this._lastPublishedConnectionState))for(let b of(this._lastPublishedConnectionState=a,this.connectionStateSubscribers.values()))b(a)})}),bb(this,"mark",a=>{var b;this.debug&&(b=this.sessionId,"u">typeof performance&&performance.mark&&performance.mark(a,{detail:{sessionId:b}}))}),"object"==typeof a)throw Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");c?.skipConvexDeploymentUrlCheck!==!0&&t(a);const e=(c={...c}).authRefreshTokenLeewaySeconds??10;let f=c.webSocketConstructor;if(!f&&"u"<typeof WebSocket)throw Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");f=f||WebSocket,this.debug=c.reportDebugInfoToConvex??!1,this.address=a,this.logger=!1===c.logger?function(a){return new ao(a)}({verbose:c.verbose??!1}):!0!==c.logger&&c.logger?c.logger:ap({verbose:c.verbose??!1});const g=a.search("://");if(-1===g)throw Error("Provided address was not an absolute URL.");const h=a.substring(g+3),i=a.substring(0,g);if("http"===i)d="ws";else if("https"===i)d="wss";else throw Error(`Unknown parent protocol ${i}`);const j=`${d}://${h}/api/${ak}/sync`;this.state=new ay,this.remoteQuerySet=new aW(a=>this.state.queryPath(a),this.logger),this.requestManager=new aB(this.logger,this.markConnectionStateDirty);const k=()=>{this.webSocketManager.pause(),this.state.pause()};this.authenticationManager=new a7(this.state,{authenticate:a=>{let b=this.state.setAuth(a);return this.webSocketManager.sendMessage(b),b.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:k,resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:e}),this.optimisticQueryResults=new aM,this.addOnTransitionHandler(a=>{b(a.queries.map(a=>a.token))}),this._nextRequestId=0,this._sessionId="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{let b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)});const{unsavedChangesWarning:l}=c;if(!0===l)throw Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.");this.webSocketManager=new a2(j,{onOpen:a=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...a,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});let b=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new aW(a=>this.state.queryPath(a),this.logger);let[c,d]=this.state.restart(b);for(let a of(d&&this.webSocketManager.sendMessage(d),this.webSocketManager.sendMessage(c),this.requestManager.restart()))this.webSocketManager.sendMessage(a)},onResume:()=>{let[a,b]=this.state.resume();for(let c of(b&&this.webSocketManager.sendMessage(b),a&&this.webSocketManager.sendMessage(a),this.requestManager.resume()))this.webSocketManager.sendMessage(c)},onMessage:a=>{switch(!this.firstMessageReceived&&(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),a.type){case"Transition":{this.observedTimestamp(a.endVersion.ts),this.authenticationManager.onTransition(a),this.remoteQuerySet.transition(a),this.state.transition(a);let b=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(b);break}case"MutationResponse":{a.success&&this.observedTimestamp(a.ts);let b=this.requestManager.onResponse(a);null!==b&&this.notifyOnQueryResultChanges(new Map([[b.requestId,b.result]]));break}case"ActionResponse":this.requestManager.onResponse(a);break;case"AuthError":this.authenticationManager.onAuthError(a);break;case"FatalError":{var b,c;let d,e=(b=this.logger,c=a.error,d=`[CONVEX FATAL ERROR] ${c}`,b.error(d),Error(d));throw this.webSocketManager.terminate(),e}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:c.onServerDisconnectError},f,this.logger,this.markConnectionStateDirty,this.debug),this.mark("convexClientConstructed"),c.expectAuth&&k()}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(a){(void 0===this.maxObservedTimestamp||this.maxObservedTimestamp.lessThanOrEqual(a))&&(this.maxObservedTimestamp=a)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(a){let b=this.remoteQuerySet.remoteQueryResults(),c=new Map;for(let[a,d]of b){let b=this.state.queryToken(a);if(null!==b){let e={result:d,udfPath:this.state.queryPath(a),args:this.state.queryArgs(a)};c.set(b,e)}}let d=this.optimisticQueryResults.ingestQueryResultsFromServer(c,new Set(a.keys()));this.handleTransition({queries:d.map(a=>{let b=this.optimisticQueryResults.rawQueryResult(a);return{token:a,modification:{kind:"Updated",result:b}}}),reflectedMutations:Array.from(a).map(([a,b])=>({requestId:a,result:b})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(a){for(let b of this._onTransitionFns.values())b(a)}addOnTransitionHandler(a){let b=this._transitionHandlerCounter++;return this._onTransitionFns.set(b,a),()=>this._onTransitionFns.delete(b)}getCurrentAuthClaims(){let a=this.state.getAuth(),b={};if(a&&"User"===a.tokenType){try{b=a?a4(a.value):{}}catch{b={}}return{token:a.value,decoded:b}}}setAuth(a,b){this.authenticationManager.setConfig(a,b)}hasAuth(){return this.state.hasAuth()}setAdminAuth(a,b){let c=this.state.setAdminAuth(a,b);this.webSocketManager.sendMessage(c)}clearAuth(){let a=this.state.clearAuth();this.webSocketManager.sendMessage(a)}subscribe(a,b,c){let d=s(b),{modification:e,queryToken:f,unsubscribe:g}=this.state.subscribe(a,d,c?.journal,c?.componentPath);return null!==e&&this.webSocketManager.sendMessage(e),{queryToken:f,unsubscribe:()=>{let a=g();a&&this.webSocketManager.sendMessage(a)}}}localQueryResult(a,b){let c=au(a,s(b));return this.optimisticQueryResults.queryResult(c)}localQueryResultByToken(a){return this.optimisticQueryResults.queryResult(a)}hasLocalQueryResultByToken(a){return this.optimisticQueryResults.hasQueryResult(a)}localQueryLogs(a,b){let c=au(a,s(b));return this.optimisticQueryResults.queryLogs(c)}queryJournal(a,b){let c=au(a,s(b));return this.state.queryJournal(c)}connectionState(){let a=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:a.isConnected,hasEverConnected:a.hasEverConnected,connectionCount:a.connectionCount,connectionRetries:a.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(a){let b=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(b,a),()=>{this.connectionStateSubscribers.delete(b)}}async mutation(a,b,c){let d=await this.mutationInternal(a,b,c);if(!d.success){if(void 0!==d.errorData)throw as(d,new ai(ar("mutation",a,d)));throw Error(ar("mutation",a,d))}return d.value}async mutationInternal(a,b,c,d){let{mutationPromise:e}=this.enqueueMutation(a,b,c,d);return e}enqueueMutation(a,b,c,d){let e=s(b);this.tryReportLongDisconnect();let f=this.nextRequestId;if(this._nextRequestId++,void 0!==c){let a=c.optimisticUpdate;if(void 0!==a){let b=b=>{a(b,e)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},c=this.optimisticQueryResults.applyOptimisticUpdate(b,f).map(a=>{let b=this.localQueryResultByToken(a);return{token:a,modification:{kind:"Updated",result:void 0===b?void 0:{success:!0,value:b,logLines:[]}}}});this.handleTransition({queries:c,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}let g={type:"Mutation",requestId:f,udfPath:a,componentPath:d,args:[J(e)]},h=this.webSocketManager.sendMessage(g);return{requestId:f,mutationPromise:this.requestManager.request(g,h)}}async action(a,b){let c=await this.actionInternal(a,b);if(!c.success){if(void 0!==c.errorData)throw as(c,new ai(ar("action",a,c)));throw Error(ar("action",a,c))}return c.value}async actionInternal(a,b,c){let d=s(b),e=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();let f={type:"Action",requestId:e,udfPath:a,componentPath:c,args:[J(d)]},g=this.webSocketManager.sendMessage(f);return this.requestManager.request(f,g)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){let a=function(a){if("u"<typeof performance||!performance.getEntriesByName)return[];let b=[];for(let c of a8){let d=performance.getEntriesByName(c).filter(a=>"mark"===a.entryType).filter(b=>b.detail.sessionId===a);b.push(...d)}return b.map(a9)}(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:a})}}tryReportLongDisconnect(){if(!this.debug)return;let a=this.connectionState().timeOfOldestInflightRequest;null===a||Date.now()-a.getTime()<=6e4||fetch(`${this.address}/api/debug_event`,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${ak}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(a=>{a.ok||this.logger.warn("Analytics request failed with response:",a.body)}).catch(a=>{this.logger.warn("Analytics response failed with error:",a)})}}function bd(a){if("object"!=typeof a||null===a||!Array.isArray(a.page)||"boolean"!=typeof a.isDone||"string"!=typeof a.continueCursor)throw Error(`Not a valid paginated query result: ${a?.toString()}`);return a}a.s(["BaseConvexClient",()=>bc],46727),a.s(["ConvexClient",()=>bk,"setDefaultWebSocketConstructor",()=>bj],93573);var be=Object.defineProperty,bf=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?be(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class bg{constructor(a,b){this.client=a,this.onTransition=b,bf(this,"paginatedQuerySet",new Map),bf(this,"lastTransitionTs"),this.lastTransitionTs=aP.fromNumber(0),this.client.addOnTransitionHandler(a=>this.onBaseTransition(a))}subscribe(a,b,c){let d=at(a),e=av(d,b,c),f=()=>this.removePaginatedQuerySubscriber(e),g=this.paginatedQuerySet.get(e);return g?g.numSubscribers+=1:(this.paginatedQuerySet.set(e,{token:e,canonicalizedUdfPath:d,args:b,numSubscribers:1,options:{initialNumItems:c.initialNumItems},nextPageKey:0,pageKeys:[],pageKeyToQuery:new Map,ongoingSplits:new Map,skip:!1,id:c.id}),this.addPageToPaginatedQuery(e,null,c.initialNumItems)),{paginatedQueryToken:e,unsubscribe:f}}localQueryResult(a,b,c){let d=av(at(a),b,c);return this.localQueryResultByToken(d)}localQueryResultByToken(a){let b,c=this.paginatedQuerySet.get(a);if(!c)return;let d=this.activePageQueryTokens(c);if(0===d.length)return{results:[],status:"LoadingFirstPage",loadMore:b=>this.loadMoreOfPaginatedQuery(a,b)};let e=[],f=!1,g=!1;for(let a of d){let b=this.client.localQueryResultByToken(a);if(void 0===b){f=!0,g=!1;continue}let c=bd(b);e=e.concat(c.page),g=!!c.isDone}return b=f?0===e.length?"LoadingFirstPage":"LoadingMore":g?"Exhausted":"CanLoadMore",{results:e,status:b,loadMore:b=>this.loadMoreOfPaginatedQuery(a,b)}}onBaseTransition(a){let b=a.queries.map(a=>a.token),c=this.queriesContainingTokens(b),d=[];c.length>0&&(this.processPaginatedQuerySplits(c,a=>this.client.localQueryResultByToken(a)),d=c.map(a=>({token:a,modification:{kind:"Updated",result:this.localQueryResultByToken(a)}})));let e={...a,paginatedQueries:d};this.onTransition(e)}loadMoreOfPaginatedQuery(a,b){this.mustGetPaginatedQuery(a);let c=this.queryTokenForLastPageOfPaginatedQuery(a),d=this.client.localQueryResultByToken(c);if(!d)return!1;let e=bd(d);if(e.isDone)return!1;this.addPageToPaginatedQuery(a,e.continueCursor,b);let f={timestamp:this.lastTransitionTs,reflectedMutations:[],queries:[],paginatedQueries:[{token:a,modification:{kind:"Updated",result:this.localQueryResultByToken(a)}}]};return this.onTransition(f),!0}queriesContainingTokens(a){if(0===a.length)return[];let b=[],c=new Set(a);for(let[a,d]of this.paginatedQuerySet)for(let e of this.allQueryTokens(d))if(c.has(e)){b.push(a);break}return b}processPaginatedQuerySplits(a,b){for(let c of a){let a=this.mustGetPaginatedQuery(c),{ongoingSplits:d,pageKeyToQuery:e,pageKeys:f}=a;for(let[c,[f,g]]of d)void 0!==b(e.get(f).queryToken)&&void 0!==b(e.get(g).queryToken)&&this.completePaginatedQuerySplit(a,c,f,g);for(let c of f){if(d.has(c))continue;let f=b(e.get(c).queryToken);if(!f)continue;let g=bd(f);g.splitCursor&&("SplitRecommended"===g.pageStatus||"SplitRequired"===g.pageStatus||g.page.length>2*a.options.initialNumItems)&&this.splitPaginatedQueryPage(a,c,g.splitCursor,g.continueCursor)}}}splitPaginatedQueryPage(a,b,c,d){let e=a.nextPageKey++,f=a.nextPageKey++,g={cursor:d,numItems:a.options.initialNumItems,id:a.id},h=this.client.subscribe(a.canonicalizedUdfPath,{...a.args,paginationOpts:{...g,cursor:null,endCursor:c}});a.pageKeyToQuery.set(e,h);let i=this.client.subscribe(a.canonicalizedUdfPath,{...a.args,paginationOpts:{...g,cursor:c,endCursor:d}});a.pageKeyToQuery.set(f,i),a.ongoingSplits.set(b,[e,f])}addPageToPaginatedQuery(a,b,c){let d=this.mustGetPaginatedQuery(a),e=d.nextPageKey++,f={cursor:b,numItems:c,id:d.id},g={...d.args,paginationOpts:f},h=this.client.subscribe(d.canonicalizedUdfPath,g);return d.pageKeys.push(e),d.pageKeyToQuery.set(e,h),h}removePaginatedQuerySubscriber(a){let b=this.paginatedQuerySet.get(a);if(b&&(b.numSubscribers-=1,!(b.numSubscribers>0))){for(let a of b.pageKeyToQuery.values())a.unsubscribe();this.paginatedQuerySet.delete(a)}}completePaginatedQuerySplit(a,b,c,d){let e=a.pageKeyToQuery.get(b);a.pageKeyToQuery.delete(b);let f=a.pageKeys.indexOf(b);a.pageKeys.splice(f,1,c,d),a.ongoingSplits.delete(b),e.unsubscribe()}activePageQueryTokens(a){return a.pageKeys.map(b=>a.pageKeyToQuery.get(b).queryToken)}allQueryTokens(a){return Array.from(a.pageKeyToQuery.values()).map(a=>a.queryToken)}queryTokenForLastPageOfPaginatedQuery(a){let b=this.mustGetPaginatedQuery(a),c=b.pageKeys[b.pageKeys.length-1];if(void 0===c)throw Error(`No pages for paginated query ${a}`);return b.pageKeyToQuery.get(c).queryToken}mustGetPaginatedQuery(a){let b=this.paginatedQuerySet.get(a);if(!b)throw Error("paginated query no longer exists for token "+a);return b}}var bh=Object.defineProperty,bi=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?bh(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};function bj(a){c=a}class bk{constructor(a,b={}){bi(this,"listeners"),bi(this,"_client"),bi(this,"_paginatedClient"),bi(this,"callNewListenersWithCurrentValuesTimer"),bi(this,"_closed"),bi(this,"_disabled"),!0!==b.skipConvexDeploymentUrlCheck&&t(a);const{disabled:d,...e}=b;this._closed=!1,this._disabled=!!d,c&&!("webSocketConstructor"in e)&&"u"<typeof WebSocket&&(e.webSocketConstructor=c),"unsavedChangesWarning"in e||(e.unsavedChangesWarning=!1),this.disabled||(this._client=new bc(a,()=>{},e),this._paginatedClient=new bg(this._client,a=>this._transition(a))),this.listeners=new Set}get closed(){return this._closed}get client(){if(this._client)return this._client;throw Error("ConvexClient is disabled")}get paginatedClient(){if(this._paginatedClient)return this._paginatedClient;throw Error("ConvexClient is disabled")}get disabled(){return this._disabled}onUpdate(a,b,c,d){if(this.disabled)return this.createDisabledUnsubscribe();let{queryToken:e,unsubscribe:f}=this.client.subscribe(aG(a),b),g={queryToken:e,callback:c,onError:d,unsubscribe:f,hasEverRun:!1,query:a,args:b,paginationOptions:void 0};this.listeners.add(g),this.queryResultReady(e)&&void 0===this.callNewListenersWithCurrentValuesTimer&&(this.callNewListenersWithCurrentValuesTimer=setTimeout(()=>this.callNewListenersWithCurrentValues(),0));let h={unsubscribe:()=>{this.closed||(this.listeners.delete(g),f())},getCurrentValue:()=>this.client.localQueryResultByToken(e),getQueryLogs:()=>this.client.localQueryLogs(e)},i=h.unsubscribe;return Object.assign(i,h),i}onPaginatedUpdate_experimental(a,b,c,d,e){if(this.disabled)return this.createDisabledUnsubscribe();let f={initialNumItems:c.initialNumItems,id:-1},{paginatedQueryToken:g,unsubscribe:h}=this.paginatedClient.subscribe(aG(a),b,f),i={queryToken:g,callback:d,onError:e,unsubscribe:h,hasEverRun:!1,query:a,args:b,paginationOptions:f};this.listeners.add(i),this.paginatedClient.localQueryResultByToken(g)&&void 0===this.callNewListenersWithCurrentValuesTimer&&(this.callNewListenersWithCurrentValuesTimer=setTimeout(()=>this.callNewListenersWithCurrentValues(),0));let j={unsubscribe:()=>{this.closed||(this.listeners.delete(i),h())},getCurrentValue:()=>this.paginatedClient.localQueryResult(aG(a),b,f),getQueryLogs:()=>[]},k=j.unsubscribe;return Object.assign(k,j),k}callNewListenersWithCurrentValues(){this.callNewListenersWithCurrentValuesTimer=void 0,this._transition({queries:[],paginatedQueries:[]},!0)}queryResultReady(a){return this.client.hasLocalQueryResultByToken(a)}createDisabledUnsubscribe(){let a=()=>{};return Object.assign(a,{unsubscribe:a,getCurrentValue:()=>void 0,getQueryLogs:()=>void 0}),a}async close(){if(!this.disabled)return this.listeners.clear(),this._closed=!0,this._paginatedClient&&(this._paginatedClient=void 0),this.client.close()}getAuth(){if(!this.disabled)return this.client.getCurrentAuthClaims()}setAuth(a,b){this.disabled||this.client.setAuth(a,b??(()=>{}))}setAdminAuth(a,b){if(this.closed)throw Error("ConvexClient has already been closed.");this.disabled||this.client.setAdminAuth(a,b)}_transition({queries:a,paginatedQueries:b},c=!1){let d=[...a.map(a=>a.token),...b.map(a=>a.token)];for(let a of this.listeners){let{callback:b,queryToken:e,onError:f,hasEverRun:g}=a,h="paginated"===JSON.parse(e).type,i=h?!!this.paginatedClient.localQueryResultByToken(e):this.client.hasLocalQueryResultByToken(e);if(d.includes(e)||c&&!g&&i){let c;a.hasEverRun=!0;try{c=h?this.paginatedClient.localQueryResultByToken(e):this.client.localQueryResultByToken(e)}catch(a){if(!(a instanceof Error))throw a;f?f(a,"Second argument to onUpdate onError is reserved for later use"):Promise.reject(a);continue}b(c,"Second argument to onUpdate callback is reserved for later use")}}}async mutation(a,b,c){if(this.disabled)throw Error("ConvexClient is disabled");return await this.client.mutation(aG(a),b,c)}async action(a,b){if(this.disabled)throw Error("ConvexClient is disabled");return await this.client.action(aG(a),b)}async query(a,b){if(this.disabled)throw Error("ConvexClient is disabled");let c=this.client.localQueryResult(aG(a),b);return void 0!==c?Promise.resolve(c):new Promise((c,d)=>{let{unsubscribe:e}=this.onUpdate(a,b,a=>{e(),c(a)},a=>{e(),d(a)})})}connectionState(){if(this.disabled)throw Error("ConvexClient is disabled");return this.client.connectionState()}subscribeToConnectionState(a){return this.disabled?()=>{}:this.client.subscribeToConnectionState(a)}}var bl=Object.defineProperty,bm=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?bl(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class bn{constructor(a,b){if(bm(this,"address"),bm(this,"auth"),bm(this,"adminAuth"),bm(this,"encodedTsPromise"),bm(this,"debug"),bm(this,"fetchOptions"),bm(this,"fetch"),bm(this,"logger"),bm(this,"mutationQueue",[]),bm(this,"isProcessingQueue",!1),"boolean"==typeof b)throw Error("skipConvexDeploymentUrlCheck as the second argument is no longer supported. Please pass an options object, `{ skipConvexDeploymentUrlCheck: true }`.");!0!==(b??{}).skipConvexDeploymentUrlCheck&&t(a),this.logger=b?.logger===!1?function(a){return new ao(a)}({verbose:!1}):b?.logger!==!0&&b?.logger?b.logger:ap({verbose:!1}),this.address=a,this.debug=!0,this.auth=void 0,this.adminAuth=void 0,this.fetch=b?.fetch,b?.auth&&this.setAuth(b.auth)}backendUrl(){return`${this.address}/api`}get url(){return this.address}setAuth(a){this.clearAuth(),this.auth=a}setAdminAuth(a,b){if(this.clearAuth(),void 0!==b){let c=btoa(String.fromCodePoint(...new TextEncoder().encode(JSON.stringify(b))));this.adminAuth=`${a}:${c}`}else this.adminAuth=a}clearAuth(){this.auth=void 0,this.adminAuth=void 0}setDebug(a){this.debug=a}setFetchOptions(a){this.fetchOptions=a}async consistentQuery(a,...b){let c=s(b[0]),d=this.getTimestamp();return await this.queryInner(a,c,{timestampPromise:d})}async getTimestamp(){return this.encodedTsPromise?this.encodedTsPromise:this.encodedTsPromise=this.getTimestampInner()}async getTimestampInner(){let a=this.fetch||d||fetch,b={"Content-Type":"application/json","Convex-Client":`npm-${ak}`},c=await a(`${this.address}/api/query_ts`,{...this.fetchOptions,method:"POST",headers:b});if(!c.ok)throw Error(await c.text());let{ts:e}=await c.json();return e}async query(a,...b){let c=s(b[0]);return await this.queryInner(a,c,{})}async queryInner(a,b,c){let e=aG(a),f=[J(b)],g={"Content-Type":"application/json","Convex-Client":`npm-${ak}`};this.adminAuth?g.Authorization=`Convex ${this.adminAuth}`:this.auth&&(g.Authorization=`Bearer ${this.auth}`);let h=this.fetch||d||fetch,i=c.timestampPromise?await c.timestampPromise:void 0,j=JSON.stringify({path:e,format:"convex_encoded_json",args:f,...i?{ts:i}:{}}),k=i?`${this.address}/api/query_at_ts`:`${this.address}/api/query`,l=await h(k,{...this.fetchOptions,body:j,method:"POST",headers:g});if(!l.ok&&560!==l.status)throw Error(await l.text());let m=await l.json();if(this.debug)for(let a of m.logLines??[])aq(this.logger,"info","query",e,a);switch(m.status){case"success":return E(m.value);case"error":if(void 0!==m.errorData)throw bo(m.errorData,new ai(m.errorMessage));throw Error(m.errorMessage);default:throw Error(`Invalid response: ${JSON.stringify(m)}`)}}async mutationInner(a,b){let c=aG(a),e=JSON.stringify({path:c,format:"convex_encoded_json",args:[J(b)]}),f={"Content-Type":"application/json","Convex-Client":`npm-${ak}`};this.adminAuth?f.Authorization=`Convex ${this.adminAuth}`:this.auth&&(f.Authorization=`Bearer ${this.auth}`);let g=this.fetch||d||fetch,h=await g(`${this.address}/api/mutation`,{...this.fetchOptions,body:e,method:"POST",headers:f});if(!h.ok&&560!==h.status)throw Error(await h.text());let i=await h.json();if(this.debug)for(let a of i.logLines??[])aq(this.logger,"info","mutation",c,a);switch(i.status){case"success":return E(i.value);case"error":if(void 0!==i.errorData)throw bo(i.errorData,new ai(i.errorMessage));throw Error(i.errorMessage);default:throw Error(`Invalid response: ${JSON.stringify(i)}`)}}async processMutationQueue(){if(!this.isProcessingQueue){for(this.isProcessingQueue=!0;this.mutationQueue.length>0;){let{mutation:a,args:b,resolve:c,reject:d}=this.mutationQueue.shift();try{let d=await this.mutationInner(a,b);c(d)}catch(a){d(a)}}this.isProcessingQueue=!1}}enqueueMutation(a,b){return new Promise((c,d)=>{this.mutationQueue.push({mutation:a,args:b,resolve:c,reject:d}),this.processMutationQueue()})}async mutation(a,...b){let[c,d]=b,e=s(c);return d?.skipQueue?await this.mutationInner(a,e):await this.enqueueMutation(a,e)}async action(a,...b){let c=s(b[0]),e=aG(a),f=JSON.stringify({path:e,format:"convex_encoded_json",args:[J(c)]}),g={"Content-Type":"application/json","Convex-Client":`npm-${ak}`};this.adminAuth?g.Authorization=`Convex ${this.adminAuth}`:this.auth&&(g.Authorization=`Bearer ${this.auth}`);let h=this.fetch||d||fetch,i=await h(`${this.address}/api/action`,{...this.fetchOptions,body:f,method:"POST",headers:g});if(!i.ok&&560!==i.status)throw Error(await i.text());let j=await i.json();if(this.debug)for(let a of j.logLines??[])aq(this.logger,"info","action",e,a);switch(j.status){case"success":return E(j.value);case"error":if(void 0!==j.errorData)throw bo(j.errorData,new ai(j.errorMessage));throw Error(j.errorMessage);default:throw Error(`Invalid response: ${JSON.stringify(j)}`)}}async function(a,b,...c){let e=s(c[0]),f="string"==typeof a?a:aG(a),g=JSON.stringify({componentPath:b,path:f,format:"convex_encoded_json",args:J(e)}),h={"Content-Type":"application/json","Convex-Client":`npm-${ak}`};this.adminAuth?h.Authorization=`Convex ${this.adminAuth}`:this.auth&&(h.Authorization=`Bearer ${this.auth}`);let i=this.fetch||d||fetch,j=await i(`${this.address}/api/function`,{...this.fetchOptions,body:g,method:"POST",headers:h});if(!j.ok&&560!==j.status)throw Error(await j.text());let k=await j.json();if(this.debug)for(let a of k.logLines??[])aq(this.logger,"info","any",f,a);switch(k.status){case"success":return E(k.value);case"error":if(void 0!==k.errorData)throw bo(k.errorData,new ai(k.errorMessage));throw Error(k.errorMessage);default:throw Error(`Invalid response: ${JSON.stringify(k)}`)}}}function bo(a,b){return b.data=E(a),b}a.s(["ConvexHttpClient",()=>bn],39894);var bp=Object.defineProperty,bq=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?bp(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};if(void 0===g.default)throw Error("Required dependency 'react' not found");class br{constructor(a,b){if(bq(this,"address"),bq(this,"cachedSync"),bq(this,"cachedPaginatedQueryClient"),bq(this,"listeners"),bq(this,"options"),bq(this,"closed",!1),bq(this,"_logger"),bq(this,"adminAuth"),bq(this,"fakeUserIdentity"),void 0===a)throw Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if("string"!=typeof a)throw Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof a} instead.`);if(!a.includes("://"))throw Error("Provided address was not an absolute URL.");this.address=a,this.listeners=new Map,this._logger=b?.logger===!1?function(a){return new ao(a)}({verbose:b?.verbose??!1}):b?.logger!==!0&&b?.logger?b.logger:ap({verbose:b?.verbose??!1}),this.options={...b,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw Error("ConvexReactClient has already been closed.");return this.cachedSync||(this.cachedSync=new bc(this.address,()=>{},this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedPaginatedQueryClient=new bg(this.cachedSync,a=>this.handleTransition(a))),this.cachedSync}get paginatedQueryClient(){if(this.sync,this.cachedPaginatedQueryClient)return this.cachedPaginatedQueryClient;throw Error("Should already be instantiated")}setAuth(a,b){if("string"==typeof a)throw Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(a,b??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(a,b){if(this.adminAuth=a,this.fakeUserIdentity=b,this.closed)throw Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(a,b)}watchQuery(a,...b){let[c,d]=b,e=aG(a);return{onUpdate:a=>{let{queryToken:b,unsubscribe:f}=this.sync.subscribe(e,c,d),g=this.listeners.get(b);return void 0!==g?g.add(a):this.listeners.set(b,new Set([a])),()=>{if(this.closed)return;let c=this.listeners.get(b);c.delete(a),0===c.size&&this.listeners.delete(b),f()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(e,c)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(e,c)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(e,c)}}}prewarmQuery(a){let b=a.extendSubscriptionFor??5e3;setTimeout(this.watchQuery(a.query,a.args||{}).onUpdate(()=>{}),b)}watchPaginatedQuery(a,b,c){let d=aG(a);return{onUpdate:a=>{let{paginatedQueryToken:e,unsubscribe:f}=this.paginatedQueryClient.subscribe(d,b||{},c),g=this.listeners.get(e);return void 0!==g?g.add(a):this.listeners.set(e,new Set([a])),()=>{if(this.closed)return;let b=this.listeners.get(e);b.delete(a),0===b.size&&this.listeners.delete(e),f()}},localQueryResult:()=>this.paginatedQueryClient.localQueryResult(d,b,c)}}mutation(a,...b){let[c,d]=b,e=aG(a);return this.sync.mutation(e,c,d)}action(a,...b){let c=aG(a);return this.sync.action(c,...b)}query(a,...b){let c=this.watchQuery(a,...b),d=c.localQueryResult();return void 0!==d?Promise.resolve(d):new Promise((a,b)=>{let d=c.onUpdate(()=>{d();try{a(c.localQueryResult())}catch(a){b(a)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(a){return this.sync.subscribeToConnectionState(a)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedPaginatedQueryClient&&(this.cachedPaginatedQueryClient=void 0),this.cachedSync){let a=this.cachedSync;this.cachedSync=void 0,await a.close()}}handleTransition(a){let b=a.queries.map(a=>a.token),c=a.paginatedQueries.map(a=>a.token);this.transition([...b,...c])}transition(a){for(let b of a){let a=this.listeners.get(b);if(a)for(let b of a)b()}}}let bs=g.default.createContext(void 0);function bt(){return(0,g.useContext)(bs)}let bu=({client:a,children:b})=>g.default.createElement(bs.Provider,{value:a},b);function bv(a,...b){let c="skip"===b[0],d="skip"===b[0]?{}:s(b[0]),e="string"==typeof a?aH(a):a,f=aG(e),h=function(a){let b=bt();if(void 0===b)throw Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return function(a,b){let[c]=(0,g.useState)(()=>new bz(b));return c.createWatch!==b&&c.setCreateWatch(b),(0,g.useEffect)(()=>()=>c.destroy(),[c]),function({getCurrentValue:a,subscribe:b}){let[c,d]=(0,g.useState)(()=>({getCurrentValue:a,subscribe:b,value:a()})),e=c.value;return(c.getCurrentValue!==a||c.subscribe!==b)&&(e=a(),d({getCurrentValue:a,subscribe:b,value:e})),(0,g.useEffect)(()=>{let c=!1,e=()=>{c||d(c=>{if(c.getCurrentValue!==a||c.subscribe!==b)return c;let d=a();return c.value===d?c:{...c,value:d}})},f=b(e);return e(),()=>{c=!0,f()}},[a,b]),e}((0,g.useMemo)(()=>({getCurrentValue:()=>c.getLocalResults(a),subscribe:b=>(c.setQueries(a),c.subscribe(b))}),[c,a]))}(a,(0,g.useMemo)(()=>(a,c,{journal:d,paginationOptions:e})=>e?b.watchPaginatedQuery(a,c,e):b.watchQuery(a,c,d?{journal:d}:{}),[b]))}((0,g.useMemo)(()=>c?{}:{query:{query:e,args:d}},[JSON.stringify(J(d)),f,c])).query;if(h instanceof Error)throw h;return h}function bw(a){let b="string"==typeof a?aH(a):a,c=(0,g.useContext)(bs);if(void 0===c)throw Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return(0,g.useMemo)(()=>(function a(b,c,d){function e(a){return function(a){if("object"==typeof a&&null!==a&&"bubbles"in a&&"persist"in a&&"isDefaultPrevented"in a)throw Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}(a),c.mutation(b,a,{optimisticUpdate:d})}return e.withOptimisticUpdate=function(e){if(void 0!==d)throw Error(`Already specified optimistic update for mutation ${aG(b)}`);return a(b,c,e)},e})(b,c),[c,aG(b)])}var bx=Object.defineProperty,by=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?bx(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class bz{constructor(a){by(this,"createWatch"),by(this,"queries"),by(this,"listeners"),this.createWatch=a,this.queries={},this.listeners=new Set}setQueries(a){for(let b of Object.keys(a)){let{query:c,args:d,paginationOptions:e}=a[b];if(aG(c),void 0===this.queries[b])this.addQuery(b,c,d,e?{paginationOptions:e}:{});else{let a=this.queries[b];(aG(c)!==aG(a.query)||JSON.stringify(J(d))!==JSON.stringify(J(a.args))||JSON.stringify(e)!==JSON.stringify(a.paginationOptions))&&(this.removeQuery(b),this.addQuery(b,c,d,e?{paginationOptions:e}:{}))}}for(let b of Object.keys(this.queries))void 0===a[b]&&this.removeQuery(b)}subscribe(a){return this.listeners.add(a),()=>{this.listeners.delete(a)}}getLocalResults(a){let b={};for(let c of Object.keys(a)){let d,{query:e,args:f}=a[c],g=a[c].paginationOptions;aG(e);let h=this.createWatch(e,f,g?{paginationOptions:g}:{});try{d=h.localQueryResult()}catch(a){if(a instanceof Error)d=a;else throw a}b[c]=d}return b}setCreateWatch(a){for(let b of(this.createWatch=a,Object.keys(this.queries))){let{query:a,args:c,watch:d,paginationOptions:e}=this.queries[b],f="journal"in d?d.journal():void 0;this.removeQuery(b),this.addQuery(b,a,c,{...f?{journal:f}:[],...e?{paginationOptions:e}:{}})}}destroy(){for(let a of Object.keys(this.queries))this.removeQuery(a);this.listeners=new Set}addQuery(a,b,c,{paginationOptions:d,journal:e}){if(void 0!==this.queries[a])throw Error(`Tried to add a new query with identifier ${a} when it already exists.`);let f=this.createWatch(b,c,{...e?{journal:e}:[],...d?{paginationOptions:d}:{}}),g=f.onUpdate(()=>this.notifyListeners());this.queries[a]={query:b,args:c,watch:f,unsubscribe:g,...d?{paginationOptions:d}:{}}}removeQuery(a){let b=this.queries[a];if(void 0===b)throw Error(`No query found with identifier ${a}.`);b.unsubscribe(),delete this.queries[a]}notifyListeners(){for(let a of this.listeners)a()}}Symbol("includePageKeys"),Symbol("page");let bA=(0,g.createContext)(void 0);function bB({children:a,client:b,useAuth:c}){let{isLoading:d,isAuthenticated:e,fetchAccessToken:f}=c(),[h,i]=(0,g.useState)(null);return d&&null!==h&&i(null),d||e||!1===h||i(!1),g.default.createElement(bA.Provider,{value:{isLoading:null===h,isAuthenticated:e&&(h??!1)}},g.default.createElement(bC,{authProviderAuthenticated:e,fetchAccessToken:f,authProviderLoading:d,client:b,setIsConvexAuthenticated:i}),g.default.createElement(bu,{client:b},a),g.default.createElement(bD,{authProviderAuthenticated:e,fetchAccessToken:f,authProviderLoading:d,client:b,setIsConvexAuthenticated:i}))}function bC({authProviderAuthenticated:a,fetchAccessToken:b,authProviderLoading:c,client:d,setIsConvexAuthenticated:e}){return(0,g.useEffect)(()=>{let c=!0;if(a)return d.setAuth(b,a=>{c&&e(()=>a)}),()=>{c=!1,e(a=>!a&&null)}},[a,b,c,d,e]),null}function bD({authProviderAuthenticated:a,fetchAccessToken:b,authProviderLoading:c,client:d,setIsConvexAuthenticated:e}){return(0,g.useEffect)(()=>{if(a)return()=>{d.clearAuth(),e(()=>null)}},[a,b,c,d,e]),null}a.s(["ConvexProviderWithAuth",()=>bB],77926),a.s([],11241)},70106,a=>{"use strict";var b=a.i(72131);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim(),d=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)};var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:d=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:d,height:d,stroke:a,strokeWidth:g?24*Number(f)/Number(d):f,className:c("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0;return!1})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:c(`lucide-${d(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=d(a),g};a.s(["default",()=>g],70106)},1322,a=>{"use strict";a.i(21338);var b=a.i(59230),c=a.i(99692),d=a.i(50527),e=a.i(95487);function f(a,b){if("u"<typeof Convex||void 0===Convex.syscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");return JSON.parse(Convex.syscall(a,JSON.stringify(b)))}async function g(a,c){let d;if("u"<typeof Convex||void 0===Convex.asyncSyscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");try{d=await Convex.asyncSyscall(a,JSON.stringify(c))}catch(a){if(void 0!==a.data){let c=new e.ConvexError(a.message);throw c.data=(0,b.jsonToConvex)(a.data),c}throw Error(a.message)}return JSON.parse(d)}a.i(10092);var h=a.i(4939);function i(a,b,c,d){if(void 0===a)throw TypeError(`Must provide arg ${b} \`${d}\` to \`${c}\``)}var j=Object.defineProperty,k=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?j(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class l{constructor(){k(this,"_isExpression"),k(this,"_value")}}var m=Object.defineProperty;class n extends l{constructor(a){super(),((a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?m(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c})(this,"inner"),this.inner=a}serialize(){return this.inner}}function o(a){return a instanceof n?a.serialize():{$literal:(0,b.convexOrUndefinedToJson)(a)}}let p={eq:(a,b)=>new n({$eq:[o(a),o(b)]}),neq:(a,b)=>new n({$neq:[o(a),o(b)]}),lt:(a,b)=>new n({$lt:[o(a),o(b)]}),lte:(a,b)=>new n({$lte:[o(a),o(b)]}),gt:(a,b)=>new n({$gt:[o(a),o(b)]}),gte:(a,b)=>new n({$gte:[o(a),o(b)]}),add:(a,b)=>new n({$add:[o(a),o(b)]}),sub:(a,b)=>new n({$sub:[o(a),o(b)]}),mul:(a,b)=>new n({$mul:[o(a),o(b)]}),div:(a,b)=>new n({$div:[o(a),o(b)]}),mod:(a,b)=>new n({$mod:[o(a),o(b)]}),neg:a=>new n({$neg:o(a)}),and:(...a)=>new n({$and:a.map(o)}),or:(...a)=>new n({$or:a.map(o)}),not:a=>new n({$not:o(a)}),field:a=>new n({$field:a})};var q=Object.defineProperty,r=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?q(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};function s(a){throw Error("consumed"===a?"This query is closed and can't emit any more values.":"This query has been chained with another operator and can't be reused.")}class t{constructor(a){r(this,"state"),r(this,"tableNameForErrorMessages"),this.state={type:"preparing",query:a},"FullTableScan"===a.source.type?this.tableNameForErrorMessages=a.source.tableName:this.tableNameForErrorMessages=a.source.indexName.split(".")[0]}takeQuery(){if("preparing"!==this.state.type)throw Error("A query can only be chained once and can't be chained after iteration begins.");let a=this.state.query;return this.state={type:"closed"},a}startQuery(){if("executing"===this.state.type)throw Error("Iteration can only begin on a query once.");("closed"===this.state.type||"consumed"===this.state.type)&&s(this.state.type);let{queryId:a}=f("1.0/queryStream",{query:this.state.query,version:d.version});return this.state={type:"executing",queryId:a},a}closeQuery(){"executing"===this.state.type&&f("1.0/queryCleanup",{queryId:this.state.queryId}),this.state={type:"consumed"}}order(a){i(a,1,"order","order");let b=this.takeQuery();if("Search"===b.source.type)throw Error("Search queries must always be in relevance order. Can not set order manually.");if(null!==b.source.order)throw Error("Queries may only specify order at most once");return b.source.order=a,new t(b)}filter(a){i(a,1,"filter","predicate");let b=this.takeQuery();if(b.operators.length>=256)throw Error("Can't construct query with more than 256 operators");return b.operators.push({filter:o(a(p))}),new t(b)}limit(a){i(a,1,"limit","n");let b=this.takeQuery();return b.operators.push({limit:a}),new t(b)}[Symbol.asyncIterator](){return this.startQuery(),this}async next(){("closed"===this.state.type||"consumed"===this.state.type)&&s(this.state.type);let a="preparing"===this.state.type?this.startQuery():this.state.queryId,{value:c,done:d}=await g("1.0/queryStreamNext",{queryId:a});return d&&this.closeQuery(),{value:(0,b.jsonToConvex)(c),done:d}}return(){return this.closeQuery(),Promise.resolve({done:!0,value:void 0})}async paginate(a){if(i(a,1,"paginate","options"),"number"!=typeof a?.numItems||a.numItems<0)throw Error(`\`options.numItems\` must be a positive number. Received \`${a?.numItems}\`.`);let c=this.takeQuery(),e=a.numItems,f=a.cursor,h=a?.endCursor??null,j=a.maximumRowsRead??null,{page:k,isDone:l,continueCursor:m,splitCursor:n,pageStatus:o}=await g("1.0/queryPage",{query:c,cursor:f,endCursor:h,pageSize:e,maximumRowsRead:j,maximumBytesRead:a.maximumBytesRead,version:d.version});return{page:k.map(a=>(0,b.jsonToConvex)(a)),isDone:l,continueCursor:m,splitCursor:n,pageStatus:o}}async collect(){let a=[];for await(let b of this)a.push(b);return a}async take(a){i(a,1,"take","n");if(!Number.isInteger(a)||a<0)throw TypeError("Arg 1 `n` to `take` must be a non-negative integer");return this.limit(a).collect()}async first(){let a=await this.take(1);return 0===a.length?null:a[0]}async unique(){let a=await this.take(2);if(0===a.length)return null;if(2===a.length)throw Error(`unique() query returned more than one result from table ${this.tableNameForErrorMessages}:
 [${a[0]._id}, ${a[1]._id}, ...]`);return a[0]}}c.v.object({numItems:c.v.number(),cursor:c.v.union(c.v.string(),c.v.null()),endCursor:c.v.optional(c.v.union(c.v.string(),c.v.null())),id:c.v.optional(c.v.number()),maximumRowsRead:c.v.optional(c.v.number()),maximumBytesRead:c.v.optional(c.v.number())});var u=a.i(54662),v=Object.defineProperty,w=Object.defineProperty,x=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?w(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class y{constructor(a){x(this,"indexes"),x(this,"stagedDbIndexes"),x(this,"searchIndexes"),x(this,"stagedSearchIndexes"),x(this,"vectorIndexes"),x(this,"stagedVectorIndexes"),x(this,"validator"),this.indexes=[],this.stagedDbIndexes=[],this.searchIndexes=[],this.stagedSearchIndexes=[],this.vectorIndexes=[],this.stagedVectorIndexes=[],this.validator=a}" indexes"(){return this.indexes}index(a,b){return Array.isArray(b)?this.indexes.push({indexDescriptor:a,fields:b}):b.staged?this.stagedDbIndexes.push({indexDescriptor:a,fields:b.fields}):this.indexes.push({indexDescriptor:a,fields:b.fields}),this}searchIndex(a,b){return b.staged?this.stagedSearchIndexes.push({indexDescriptor:a,searchField:b.searchField,filterFields:b.filterFields||[]}):this.searchIndexes.push({indexDescriptor:a,searchField:b.searchField,filterFields:b.filterFields||[]}),this}vectorIndex(a,b){return b.staged?this.stagedVectorIndexes.push({indexDescriptor:a,vectorField:b.vectorField,dimensions:b.dimensions,filterFields:b.filterFields||[]}):this.vectorIndexes.push({indexDescriptor:a,vectorField:b.vectorField,dimensions:b.dimensions,filterFields:b.filterFields||[]}),this}self(){return this}export(){let a=this.validator.json;if("object"!=typeof a)throw Error("Invalid validator: please make sure that the parameter of `defineTable` is valid (see https://docs.convex.dev/database/schemas)");return{indexes:this.indexes,stagedDbIndexes:this.stagedDbIndexes,searchIndexes:this.searchIndexes,stagedSearchIndexes:this.stagedSearchIndexes,vectorIndexes:this.vectorIndexes,stagedVectorIndexes:this.stagedVectorIndexes,documentType:a}}}function z(a){return new y((0,c.isValidator)(a)?a:c.v.object(a))}new class a{constructor(a,b){x(this,"tables"),x(this,"strictTableNameTypes"),x(this,"schemaValidation"),this.tables=a,this.schemaValidation=b?.schemaValidation===void 0||b.schemaValidation}export(){return JSON.stringify({tables:Object.entries(this.tables).map(([a,b])=>{let{indexes:c,stagedDbIndexes:d,searchIndexes:e,stagedSearchIndexes:f,vectorIndexes:g,stagedVectorIndexes:h,documentType:i}=b.export();return{tableName:a,indexes:c,stagedDbIndexes:d,searchIndexes:e,stagedSearchIndexes:f,vectorIndexes:g,stagedVectorIndexes:h,documentType:i}}),schemaValidation:this.schemaValidation})}}({_scheduled_functions:z({name:c.v.string(),args:c.v.array(c.v.any()),scheduledTime:c.v.float64(),completedTime:c.v.optional(c.v.float64()),state:c.v.union(c.v.object({kind:c.v.literal("pending")}),c.v.object({kind:c.v.literal("inProgress")}),c.v.object({kind:c.v.literal("success")}),c.v.object({kind:c.v.literal("failed"),error:c.v.string()}),c.v.object({kind:c.v.literal("canceled")}))}),_storage:z({sha256:c.v.string(),size:c.v.float64(),contentType:c.v.optional(c.v.string())})},void 0);let A=u.anyApi;u.anyApi,function a(b,c){return new Proxy({},{get(d,e){if("string"==typeof e)return a(b,[...c,e]);if(e===h.toReferencePath){if(c.length<1){let a=[b,...c].join(".");throw Error(`API path is expected to be of the form \`${b}.childComponent.functionName\`. Found: \`${a}\``)}return"_reference/childComponent/"+c.join("/")}}})}("components",[]),a.s(["api",0,A],1322)},68114,a=>{"use strict";let b=(a=new Map,b=null,c)=>({nextPart:a,validators:b,classGroupId:c}),c=[],d=(a,b,c)=>{if(0==a.length-b)return c.classGroupId;let e=a[b],f=c.nextPart.get(e);if(f){let c=d(a,b+1,f);if(c)return c}let g=c.validators;if(null===g)return;let h=0===b?a.join("-"):a.slice(b).join("-"),i=g.length;for(let a=0;a<i;a++){let b=g[a];if(b.validator(h))return b.classGroupId}},e=(a,c)=>{let d=b();for(let b in a)f(a[b],d,b,c);return d},f=(a,b,c,d)=>{let e=a.length;for(let f=0;f<e;f++)g(a[f],b,c,d)},g=(a,b,c,d)=>{"string"==typeof a?h(a,b,c):"function"==typeof a?i(a,b,c,d):j(a,b,c,d)},h=(a,b,c)=>{(""===a?b:k(b,a)).classGroupId=c},i=(a,b,c,d)=>{l(a)?f(a(d),b,c,d):(null===b.validators&&(b.validators=[]),b.validators.push({classGroupId:c,validator:a}))},j=(a,b,c,d)=>{let e=Object.entries(a),g=e.length;for(let a=0;a<g;a++){let[g,h]=e[a];f(h,k(b,g),c,d)}},k=(a,c)=>{let d=a,e=c.split("-"),f=e.length;for(let a=0;a<f;a++){let c=e[a],f=d.nextPart.get(c);f||(f=b(),d.nextPart.set(c,f)),d=f}return d},l=a=>"isThemeGetter"in a&&!0===a.isThemeGetter,m=[],n=(a,b,c,d,e)=>({modifiers:a,hasImportantModifier:b,baseClassName:c,maybePostfixModifierPosition:d,isExternal:e}),o=/\s+/,p=a=>{let b;if("string"==typeof a)return a;let c="";for(let d=0;d<a.length;d++)a[d]&&(b=p(a[d]))&&(c&&(c+=" "),c+=b);return c},q=[],r=a=>{let b=b=>b[a]||q;return b.isThemeGetter=!0,b},s=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,t=/^\((?:(\w[\w-]*):)?(.+)\)$/i,u=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,v=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,w=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,x=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,y=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,z=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,A=a=>u.test(a),B=a=>!!a&&!Number.isNaN(Number(a)),C=a=>!!a&&Number.isInteger(Number(a)),D=a=>a.endsWith("%")&&B(a.slice(0,-1)),E=a=>v.test(a),F=()=>!0,G=a=>w.test(a)&&!x.test(a),H=()=>!1,I=a=>y.test(a),J=a=>z.test(a),K=a=>!M(a)&&!U(a),L=a=>aa(a,ae,H),M=a=>s.test(a),N=a=>aa(a,af,G),O=a=>aa(a,ag,B),P=a=>aa(a,ai,F),Q=a=>aa(a,ah,H),R=a=>aa(a,ac,H),S=a=>aa(a,ad,J),T=a=>aa(a,aj,I),U=a=>t.test(a),V=a=>ab(a,af),W=a=>ab(a,ah),X=a=>ab(a,ac),Y=a=>ab(a,ae),Z=a=>ab(a,ad),$=a=>ab(a,aj,!0),_=a=>ab(a,ai,!0),aa=(a,b,c)=>{let d=s.exec(a);return!!d&&(d[1]?b(d[1]):c(d[2]))},ab=(a,b,c=!1)=>{let d=t.exec(a);return!!d&&(d[1]?b(d[1]):c)},ac=a=>"position"===a||"percentage"===a,ad=a=>"image"===a||"url"===a,ae=a=>"length"===a||"size"===a||"bg-size"===a,af=a=>"length"===a,ag=a=>"number"===a,ah=a=>"family-name"===a,ai=a=>"number"===a||"weight"===a,aj=a=>"shadow"===a,ak=((a,...b)=>{let f,g,h,i,j=a=>{let b=g(a);if(b)return b;let c=((a,b)=>{let{parseClassName:c,getClassGroupId:d,getConflictingClassGroupIds:e,sortModifiers:f}=b,g=[],h=a.trim().split(o),i="";for(let a=h.length-1;a>=0;a-=1){let b=h[a],{isExternal:j,modifiers:k,hasImportantModifier:l,baseClassName:m,maybePostfixModifierPosition:n}=c(b);if(j){i=b+(i.length>0?" "+i:i);continue}let o=!!n,p=d(o?m.substring(0,n):m);if(!p){if(!o||!(p=d(m))){i=b+(i.length>0?" "+i:i);continue}o=!1}let q=0===k.length?"":1===k.length?k[0]:f(k).join(":"),r=l?q+"!":q,s=r+p;if(g.indexOf(s)>-1)continue;g.push(s);let t=e(p,o);for(let a=0;a<t.length;++a){let b=t[a];g.push(r+b)}i=b+(i.length>0?" "+i:i)}return i})(a,f);return h(a,c),c};return i=k=>{var l;let o;return g=(f={cache:(a=>{if(a<1)return{get:()=>void 0,set:()=>{}};let b=0,c=Object.create(null),d=Object.create(null),e=(e,f)=>{c[e]=f,++b>a&&(b=0,d=c,c=Object.create(null))};return{get(a){let b=c[a];return void 0!==b?b:void 0!==(b=d[a])?(e(a,b),b):void 0},set(a,b){a in c?c[a]=b:e(a,b)}}})((l=b.reduce((a,b)=>b(a),a())).cacheSize),parseClassName:(a=>{let{prefix:b,experimentalParseClassName:c}=a,d=a=>{let b,c=[],d=0,e=0,f=0,g=a.length;for(let h=0;h<g;h++){let g=a[h];if(0===d&&0===e){if(":"===g){c.push(a.slice(f,h)),f=h+1;continue}if("/"===g){b=h;continue}}"["===g?d++:"]"===g?d--:"("===g?e++:")"===g&&e--}let h=0===c.length?a:a.slice(f),i=h,j=!1;return h.endsWith("!")?(i=h.slice(0,-1),j=!0):h.startsWith("!")&&(i=h.slice(1),j=!0),n(c,j,i,b&&b>f?b-f:void 0)};if(b){let a=b+":",c=d;d=b=>b.startsWith(a)?c(b.slice(a.length)):n(m,!1,b,void 0,!0)}if(c){let a=d;d=b=>c({className:b,parseClassName:a})}return d})(l),sortModifiers:(o=new Map,l.orderSensitiveModifiers.forEach((a,b)=>{o.set(a,1e6+b)}),a=>{let b=[],c=[];for(let d=0;d<a.length;d++){let e=a[d],f="["===e[0],g=o.has(e);f||g?(c.length>0&&(c.sort(),b.push(...c),c=[]),b.push(e)):c.push(e)}return c.length>0&&(c.sort(),b.push(...c)),b}),...(a=>{let b=(a=>{let{theme:b,classGroups:c}=a;return e(c,b)})(a),{conflictingClassGroups:f,conflictingClassGroupModifiers:g}=a;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]")){var c;let b,d,e;return -1===(c=a).slice(1,-1).indexOf(":")?void 0:(d=(b=c.slice(1,-1)).indexOf(":"),(e=b.slice(0,d))?"arbitrary.."+e:void 0)}let e=a.split("-"),f=+(""===e[0]&&e.length>1);return d(e,f,b)},getConflictingClassGroupIds:(a,b)=>{if(b){let b=g[a],d=f[a];if(b){if(d){let a=Array(d.length+b.length);for(let b=0;b<d.length;b++)a[b]=d[b];for(let c=0;c<b.length;c++)a[d.length+c]=b[c];return a}return b}return d||c}return f[a]||c}}})(l)}).cache.get,h=f.cache.set,i=j,j(k)},(...a)=>i(((...a)=>{let b,c,d=0,e="";for(;d<a.length;)(b=a[d++])&&(c=p(b))&&(e&&(e+=" "),e+=c);return e})(...a))})(()=>{let a=r("color"),b=r("font"),c=r("text"),d=r("font-weight"),e=r("tracking"),f=r("leading"),g=r("breakpoint"),h=r("container"),i=r("spacing"),j=r("radius"),k=r("shadow"),l=r("inset-shadow"),m=r("text-shadow"),n=r("drop-shadow"),o=r("blur"),p=r("perspective"),q=r("aspect"),s=r("ease"),t=r("animate"),u=()=>["auto","avoid","all","avoid-page","page","left","right","column"],v=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[...v(),U,M],x=()=>["auto","hidden","clip","visible","scroll"],y=()=>["auto","contain","none"],z=()=>[U,M,i],G=()=>[A,"full","auto",...z()],H=()=>[C,"none","subgrid",U,M],I=()=>["auto",{span:["full",C,U,M]},C,U,M],J=()=>[C,"auto",U,M],aa=()=>["auto","min","max","fr",U,M],ab=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ac=()=>["start","end","center","stretch","center-safe","end-safe"],ad=()=>["auto",...z()],ae=()=>[A,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],af=()=>[A,"screen","full","dvw","lvw","svw","min","max","fit",...z()],ag=()=>[A,"screen","full","lh","dvh","lvh","svh","min","max","fit",...z()],ah=()=>[a,U,M],ai=()=>[...v(),X,R,{position:[U,M]}],aj=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ak=()=>["auto","cover","contain",Y,L,{size:[U,M]}],al=()=>[D,V,N],am=()=>["","none","full",j,U,M],an=()=>["",B,V,N],ao=()=>["solid","dashed","dotted","double"],ap=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],aq=()=>[B,D,X,R],ar=()=>["","none",o,U,M],as=()=>["none",B,U,M],at=()=>["none",B,U,M],au=()=>[B,U,M],av=()=>[A,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[E],breakpoint:[E],color:[F],container:[E],"drop-shadow":[E],ease:["in","out","in-out"],font:[K],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[E],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[E],shadow:[E],spacing:["px",B],text:[E],"text-shadow":[E],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",A,M,U,q]}],container:["container"],columns:[{columns:[B,M,U,h]}],"break-after":[{"break-after":u()}],"break-before":[{"break-before":u()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:x()}],"overflow-x":[{"overflow-x":x()}],"overflow-y":[{"overflow-y":x()}],overscroll:[{overscroll:y()}],"overscroll-x":[{"overscroll-x":y()}],"overscroll-y":[{"overscroll-y":y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:G()}],"inset-x":[{"inset-x":G()}],"inset-y":[{"inset-y":G()}],start:[{"inset-s":G(),start:G()}],end:[{"inset-e":G(),end:G()}],"inset-bs":[{"inset-bs":G()}],"inset-be":[{"inset-be":G()}],top:[{top:G()}],right:[{right:G()}],bottom:[{bottom:G()}],left:[{left:G()}],visibility:["visible","invisible","collapse"],z:[{z:[C,"auto",U,M]}],basis:[{basis:[A,"full","auto",h,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[B,A,"auto","initial","none",M]}],grow:[{grow:["",B,U,M]}],shrink:[{shrink:["",B,U,M]}],order:[{order:[C,"first","last","none",U,M]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":aa()}],"auto-rows":[{"auto-rows":aa()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...ab(),"normal"]}],"justify-items":[{"justify-items":[...ac(),"normal"]}],"justify-self":[{"justify-self":["auto",...ac()]}],"align-content":[{content:["normal",...ab()]}],"align-items":[{items:[...ac(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ac(),{baseline:["","last"]}]}],"place-content":[{"place-content":ab()}],"place-items":[{"place-items":[...ac(),"baseline"]}],"place-self":[{"place-self":["auto",...ac()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pbs:[{pbs:z()}],pbe:[{pbe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:ad()}],mx:[{mx:ad()}],my:[{my:ad()}],ms:[{ms:ad()}],me:[{me:ad()}],mbs:[{mbs:ad()}],mbe:[{mbe:ad()}],mt:[{mt:ad()}],mr:[{mr:ad()}],mb:[{mb:ad()}],ml:[{ml:ad()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],"inline-size":[{inline:["auto",...af()]}],"min-inline-size":[{"min-inline":["auto",...af()]}],"max-inline-size":[{"max-inline":["none",...af()]}],"block-size":[{block:["auto",...ag()]}],"min-block-size":[{"min-block":["auto",...ag()]}],"max-block-size":[{"max-block":["none",...ag()]}],w:[{w:[h,"screen",...ae()]}],"min-w":[{"min-w":[h,"screen","none",...ae()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[g]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",c,V,N]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[d,_,P]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",D,M]}],"font-family":[{font:[W,Q,b]}],"font-features":[{"font-features":[M]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[e,U,M]}],"line-clamp":[{"line-clamp":[B,"none",U,O]}],leading:[{leading:[f,...z()]}],"list-image":[{"list-image":["none",U,M]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",U,M]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ah()}],"text-color":[{text:ah()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ao(),"wavy"]}],"text-decoration-thickness":[{decoration:[B,"from-font","auto",U,N]}],"text-decoration-color":[{decoration:ah()}],"underline-offset":[{"underline-offset":[B,"auto",U,M]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",U,M]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",U,M]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ai()}],"bg-repeat":[{bg:aj()}],"bg-size":[{bg:ak()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},C,U,M],radial:["",U,M],conic:[C,U,M]},Z,S]}],"bg-color":[{bg:ah()}],"gradient-from-pos":[{from:al()}],"gradient-via-pos":[{via:al()}],"gradient-to-pos":[{to:al()}],"gradient-from":[{from:ah()}],"gradient-via":[{via:ah()}],"gradient-to":[{to:ah()}],rounded:[{rounded:am()}],"rounded-s":[{"rounded-s":am()}],"rounded-e":[{"rounded-e":am()}],"rounded-t":[{"rounded-t":am()}],"rounded-r":[{"rounded-r":am()}],"rounded-b":[{"rounded-b":am()}],"rounded-l":[{"rounded-l":am()}],"rounded-ss":[{"rounded-ss":am()}],"rounded-se":[{"rounded-se":am()}],"rounded-ee":[{"rounded-ee":am()}],"rounded-es":[{"rounded-es":am()}],"rounded-tl":[{"rounded-tl":am()}],"rounded-tr":[{"rounded-tr":am()}],"rounded-br":[{"rounded-br":am()}],"rounded-bl":[{"rounded-bl":am()}],"border-w":[{border:an()}],"border-w-x":[{"border-x":an()}],"border-w-y":[{"border-y":an()}],"border-w-s":[{"border-s":an()}],"border-w-e":[{"border-e":an()}],"border-w-bs":[{"border-bs":an()}],"border-w-be":[{"border-be":an()}],"border-w-t":[{"border-t":an()}],"border-w-r":[{"border-r":an()}],"border-w-b":[{"border-b":an()}],"border-w-l":[{"border-l":an()}],"divide-x":[{"divide-x":an()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":an()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ao(),"hidden","none"]}],"divide-style":[{divide:[...ao(),"hidden","none"]}],"border-color":[{border:ah()}],"border-color-x":[{"border-x":ah()}],"border-color-y":[{"border-y":ah()}],"border-color-s":[{"border-s":ah()}],"border-color-e":[{"border-e":ah()}],"border-color-bs":[{"border-bs":ah()}],"border-color-be":[{"border-be":ah()}],"border-color-t":[{"border-t":ah()}],"border-color-r":[{"border-r":ah()}],"border-color-b":[{"border-b":ah()}],"border-color-l":[{"border-l":ah()}],"divide-color":[{divide:ah()}],"outline-style":[{outline:[...ao(),"none","hidden"]}],"outline-offset":[{"outline-offset":[B,U,M]}],"outline-w":[{outline:["",B,V,N]}],"outline-color":[{outline:ah()}],shadow:[{shadow:["","none",k,$,T]}],"shadow-color":[{shadow:ah()}],"inset-shadow":[{"inset-shadow":["none",l,$,T]}],"inset-shadow-color":[{"inset-shadow":ah()}],"ring-w":[{ring:an()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ah()}],"ring-offset-w":[{"ring-offset":[B,N]}],"ring-offset-color":[{"ring-offset":ah()}],"inset-ring-w":[{"inset-ring":an()}],"inset-ring-color":[{"inset-ring":ah()}],"text-shadow":[{"text-shadow":["none",m,$,T]}],"text-shadow-color":[{"text-shadow":ah()}],opacity:[{opacity:[B,U,M]}],"mix-blend":[{"mix-blend":[...ap(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ap()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[B]}],"mask-image-linear-from-pos":[{"mask-linear-from":aq()}],"mask-image-linear-to-pos":[{"mask-linear-to":aq()}],"mask-image-linear-from-color":[{"mask-linear-from":ah()}],"mask-image-linear-to-color":[{"mask-linear-to":ah()}],"mask-image-t-from-pos":[{"mask-t-from":aq()}],"mask-image-t-to-pos":[{"mask-t-to":aq()}],"mask-image-t-from-color":[{"mask-t-from":ah()}],"mask-image-t-to-color":[{"mask-t-to":ah()}],"mask-image-r-from-pos":[{"mask-r-from":aq()}],"mask-image-r-to-pos":[{"mask-r-to":aq()}],"mask-image-r-from-color":[{"mask-r-from":ah()}],"mask-image-r-to-color":[{"mask-r-to":ah()}],"mask-image-b-from-pos":[{"mask-b-from":aq()}],"mask-image-b-to-pos":[{"mask-b-to":aq()}],"mask-image-b-from-color":[{"mask-b-from":ah()}],"mask-image-b-to-color":[{"mask-b-to":ah()}],"mask-image-l-from-pos":[{"mask-l-from":aq()}],"mask-image-l-to-pos":[{"mask-l-to":aq()}],"mask-image-l-from-color":[{"mask-l-from":ah()}],"mask-image-l-to-color":[{"mask-l-to":ah()}],"mask-image-x-from-pos":[{"mask-x-from":aq()}],"mask-image-x-to-pos":[{"mask-x-to":aq()}],"mask-image-x-from-color":[{"mask-x-from":ah()}],"mask-image-x-to-color":[{"mask-x-to":ah()}],"mask-image-y-from-pos":[{"mask-y-from":aq()}],"mask-image-y-to-pos":[{"mask-y-to":aq()}],"mask-image-y-from-color":[{"mask-y-from":ah()}],"mask-image-y-to-color":[{"mask-y-to":ah()}],"mask-image-radial":[{"mask-radial":[U,M]}],"mask-image-radial-from-pos":[{"mask-radial-from":aq()}],"mask-image-radial-to-pos":[{"mask-radial-to":aq()}],"mask-image-radial-from-color":[{"mask-radial-from":ah()}],"mask-image-radial-to-color":[{"mask-radial-to":ah()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":v()}],"mask-image-conic-pos":[{"mask-conic":[B]}],"mask-image-conic-from-pos":[{"mask-conic-from":aq()}],"mask-image-conic-to-pos":[{"mask-conic-to":aq()}],"mask-image-conic-from-color":[{"mask-conic-from":ah()}],"mask-image-conic-to-color":[{"mask-conic-to":ah()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ai()}],"mask-repeat":[{mask:aj()}],"mask-size":[{mask:ak()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",U,M]}],filter:[{filter:["","none",U,M]}],blur:[{blur:ar()}],brightness:[{brightness:[B,U,M]}],contrast:[{contrast:[B,U,M]}],"drop-shadow":[{"drop-shadow":["","none",n,$,T]}],"drop-shadow-color":[{"drop-shadow":ah()}],grayscale:[{grayscale:["",B,U,M]}],"hue-rotate":[{"hue-rotate":[B,U,M]}],invert:[{invert:["",B,U,M]}],saturate:[{saturate:[B,U,M]}],sepia:[{sepia:["",B,U,M]}],"backdrop-filter":[{"backdrop-filter":["","none",U,M]}],"backdrop-blur":[{"backdrop-blur":ar()}],"backdrop-brightness":[{"backdrop-brightness":[B,U,M]}],"backdrop-contrast":[{"backdrop-contrast":[B,U,M]}],"backdrop-grayscale":[{"backdrop-grayscale":["",B,U,M]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[B,U,M]}],"backdrop-invert":[{"backdrop-invert":["",B,U,M]}],"backdrop-opacity":[{"backdrop-opacity":[B,U,M]}],"backdrop-saturate":[{"backdrop-saturate":[B,U,M]}],"backdrop-sepia":[{"backdrop-sepia":["",B,U,M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",U,M]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[B,"initial",U,M]}],ease:[{ease:["linear","initial",s,U,M]}],delay:[{delay:[B,U,M]}],animate:[{animate:["none",t,U,M]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,U,M]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:as()}],"rotate-x":[{"rotate-x":as()}],"rotate-y":[{"rotate-y":as()}],"rotate-z":[{"rotate-z":as()}],scale:[{scale:at()}],"scale-x":[{"scale-x":at()}],"scale-y":[{"scale-y":at()}],"scale-z":[{"scale-z":at()}],"scale-3d":["scale-3d"],skew:[{skew:au()}],"skew-x":[{"skew-x":au()}],"skew-y":[{"skew-y":au()}],transform:[{transform:[U,M,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:av()}],"translate-x":[{"translate-x":av()}],"translate-y":[{"translate-y":av()}],"translate-z":[{"translate-z":av()}],"translate-none":["translate-none"],accent:[{accent:ah()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ah()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",U,M]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mbs":[{"scroll-mbs":z()}],"scroll-mbe":[{"scroll-mbe":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pbs":[{"scroll-pbs":z()}],"scroll-pbe":[{"scroll-pbe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",U,M]}],fill:[{fill:["none",...ah()]}],"stroke-w":[{stroke:[B,V,N,O]}],stroke:[{stroke:["none",...ah()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function al(...a){return ak(function(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}(a))}function am(a){return 0===a?"Free  just take it":`$${(a/100).toFixed(0)}`}function an(a){let b=Date.now()-a,c=Math.floor(b/6e4),d=Math.floor(b/36e5),e=Math.floor(b/864e5);return c<1?"Just now":c<60?`${c}m ago`:d<24?`${d}h ago`:e<7?`${e}d ago`:new Date(a).toLocaleDateString()}a.s(["AREAS",0,["Dededo","Yigo","Tamuning","Tumon","Hagatna","Mangilao","Barrigada","Chalan Pago","Sinajana","Agana Heights","Mongmong-Toto-Maite","Asan","Piti","Santa Rita","Agat","Talofofo","Inarajan","Merizo","Umatac"],"CATEGORIES",0,["All","Jewelry & Watches","Clothes & Accessories","Electronics","Furniture & Home","Books & Media","Gifts & Misc","Stuff They Left Behind"],"CONDITIONS",0,["New","Like New","Good","Fair","It's Been Through a Lot"],"cn",()=>al,"formatPrice",()=>am,"formatTimeAgo",()=>an],68114)}];

//# sourceMappingURL=_7fdf98f2._.js.map